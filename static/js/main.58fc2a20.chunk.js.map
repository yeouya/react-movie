{"version":3,"sources":["components/Header.module.css","components/Movies.module.css","components/DetailBody.module.css","components/DetailHead.module.css","components/Main.module.css","components/Trailer.module.css","components/SearchResult.module.css","components/Footer.module.css","components/MessageCard.module.css","components/Movie.module.css","common/StarRating.module.css","components/Loading.module.css","common/Indicator.module.css","common/Modal.module.css","hooks/useFetchAll.ts","urls.ts","contexts/HomeContext.tsx","components/Header.tsx","hooks/useInput.ts","components/Main.tsx","components/Loading.tsx","components/MessageCard.tsx","components/Failure.tsx","common/Indicator.tsx","components/Movie.tsx","components/Movies.tsx","pages/Home.tsx","common/StarRating.tsx","components/DetailHead.tsx","common/Modal.tsx","components/Trailer.tsx","hooks/useFetch.ts","components/DetailBody.tsx","pages/Detail.tsx","components/SearchResult.tsx","pages/Search.tsx","pages/NotFound.tsx","components/Footer.tsx","App.tsx","index.tsx"],"names":["module","exports","ActionType","initialState","data","error","loading","reducer","state","action","type","SUCCESS","FAILURE","COMPLETE","SyntaxError","useFetchAll","urls","useReducer","dispatch","useEffect","a","requests","map","url","fetch","Promise","allSettled","results","all","result","status","value","json","reason","console","NOW_PLAYING_MOVIES_URL","process","POPULAR_MOVIES_URL","TOP_RATED_MOVIES_URL","UPCOMING_MOVIES_URL","getMovieDetailUrl","id","getSimilarMoviesUrl","getMovieVideosUrl","getImageUrl","width","path","homeUrls","title","HomeContext","createContext","HomeProvider","children","Provider","header","style","container","heading","form","input","icon","Header","initialValue","useState","setValue","handleChange","target","onChange","useInput","query","setQuery","bindQuery","push","useHistory","className","to","onSubmit","e","preventDefault","trim","onClick","main","placeCenter","Main","center","restProps","spinner","Loading","article","MessageCard","text","Failure","name","message","wrapper","forwardRef","_","ref","figure","img","Movie","movie","poster_path","src","alt","section","sliderContainer","slider","button","Movies","movies","sliderRef","useRef","indicatorRef","handleClick","direction","currentTarget","dataset","current","movement","clientWidth","parseInt","getComputedStyle","gap","scrollLeft","length","data-direction","onScroll","scrollWidth","indicator","scrollableArea","progress","Math","round","setProperty","backdrop_path","titles","Home","context","useContext","ReferenceError","useHomeContext","index","uuid","StarRating","Array","from","color","movieInfo","subInfo","Backdrop","vote_average","vote_count","release_date","genres","runtime","wrapperStyle","backgroundImage","join","Modal","isOpen","setIsOpen","handleKeydown","key","document","addEventListener","removeEventListener","querySelector","createPortal","iframe","Trailer","videoId","containerClassName","synopsis","DetailBody","overview","trailer","display","alignContent","Detail","useParams","getDetailUrls","grid","SearchResult","Search","res","useFetch","getSearchUrl","NotFound","footer","copyright","Footer","App","exact","render"],"mappings":"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","file":"static/js/main.58fc2a20.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2xseJ\",\"container\":\"Header_container__2LJNz\",\"heading\":\"Header_heading__2fdda\",\"form\":\"Header_form__3iWB3\",\"input\":\"Header_input__1pUvx\",\"icon\":\"Header_icon__3BRb_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Movies_section__368NK\",\"header\":\"Movies_header__10CG5\",\"heading\":\"Movies_heading__3umzq\",\"sliderContainer\":\"Movies_sliderContainer__2gy5n\",\"slider\":\"Movies_slider__VUt4w\",\"button\":\"Movies_button__3rRio\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"DetailBody_wrapper__1nVnn\",\"container\":\"DetailBody_container__9kFcM\",\"figure\":\"DetailBody_figure__2q5W8\",\"img\":\"DetailBody_img__2gAnW\",\"synopsis\":\"DetailBody_synopsis__154G6\",\"button\":\"DetailBody_button__3zbzL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"DetailHead_wrapper__1FLQU\",\"container\":\"DetailHead_container__1-L1h\",\"heading\":\"DetailHead_heading__3RAtd\",\"movieInfo\":\"DetailHead_movieInfo__b1j2Y\",\"subInfo\":\"DetailHead_subInfo__yDP5M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Main_main__1NzAi\",\"container\":\"Main_container__1tCur\",\"placeCenter\":\"Main_placeCenter__Duf2p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"figure\":\"Trailer_figure__2LxrC\",\"container\":\"Trailer_container__2ZHcn\",\"iframe\":\"Trailer_iframe__1LOJN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"SearchResult_section__2VQvh\",\"heading\":\"SearchResult_heading__190dY\",\"grid\":\"SearchResult_grid__Y6zte\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__JQIrY\",\"container\":\"Footer_container__16FTr\",\"copyright\":\"Footer_copyright__2kG1j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"article\":\"MessageCard_article__1drxq\",\"heading\":\"MessageCard_heading__14Ly-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"figure\":\"Movie_figure__3-B5n\",\"img\":\"Movie_img__1GbsF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"StarRating_wrapper__2yQDq\",\"icon\":\"StarRating_icon__1kTqb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Loading_spinner__1fslG\",\"rotation\":\"Loading_rotation__39Ef4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Indicator_wrapper__3JDIu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Modal_wrapper__3lFFV\"};","import { useReducer, useEffect } from \"react\";\r\n\r\ninterface State {\r\n  data: any;\r\n  error: Error | null;\r\n  loading: boolean;\r\n}\r\n\r\nenum ActionType {\r\n  SUCCESS = \"SUCCESS\",\r\n  FAILURE = \"FAILURE\",\r\n  COMPLETE = \"COMPLETE\",\r\n}\r\n\r\ntype Action =\r\n  | { type: ActionType.SUCCESS; data: any }\r\n  | { type: ActionType.FAILURE; error: Error }\r\n  | { type: ActionType.COMPLETE };\r\n\r\nconst initialState = {\r\n  data: null,\r\n  error: null,\r\n  loading: true,\r\n};\r\n\r\nconst reducer = (state: State, action: Action) => {\r\n  switch (action.type) {\r\n    case ActionType.SUCCESS:\r\n      return { ...state, data: action.data };\r\n    case ActionType.FAILURE:\r\n      return { ...state, error: action.error };\r\n    case ActionType.COMPLETE:\r\n      return { ...state, loading: false };\r\n    default:\r\n      throw new SyntaxError(\"유효하지 않은 액션 타입입니다.\");\r\n  }\r\n};\r\n\r\nexport default function useFetchAll(urls: string[]) {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const requests = urls.map((url) => fetch(url));\r\n        const results = await Promise.allSettled(requests);\r\n        const data = await Promise.all(\r\n          results.map(async (result) => {\r\n            try {\r\n              const { status } = result;\r\n              if (status === \"fulfilled\") {\r\n                return await (result as PromiseFulfilledResult<Response>).value.json();\r\n              } else {\r\n                return (result as PromiseRejectedResult).reason;\r\n              }\r\n            } catch (error) {\r\n              throw error;\r\n            }\r\n          })\r\n        );\r\n        dispatch({ type: ActionType.SUCCESS, data });\r\n      } catch (error) {\r\n        console.error(error);\r\n        dispatch({ type: ActionType.FAILURE, error });\r\n      } finally {\r\n        dispatch({ type: ActionType.COMPLETE });\r\n      }\r\n    })();\r\n  }, [urls]);\r\n\r\n  return state;\r\n}\r\n","export const NOW_PLAYING_MOVIES_URL = `https://api.themoviedb.org/3/movie/now_playing?api_key=${process.env.REACT_APP_API_KEY}&language=ko-KR&region=KR`;\r\nexport const POPULAR_MOVIES_URL = `https://api.themoviedb.org/3/movie/popular?api_key=${process.env.REACT_APP_API_KEY}&language=ko-KR&region=KR`;\r\nexport const TOP_RATED_MOVIES_URL = `https://api.themoviedb.org/3/movie/top_rated?api_key=${process.env.REACT_APP_API_KEY}&language=ko-KR&region=KR`;\r\nexport const UPCOMING_MOVIES_URL = `https://api.themoviedb.org/3/movie/upcoming?api_key=${process.env.REACT_APP_API_KEY}&language=ko-KR&region=KR`;\r\n\r\nexport const getMovieDetailUrl = (id: string) =>\r\n  `https://api.themoviedb.org/3/movie/${id}?api_key=${process.env.REACT_APP_API_KEY}&language=ko-KR`;\r\nexport const getSimilarMoviesUrl = (id: string) =>\r\n  `https://api.themoviedb.org/3/movie/${id}/similar?api_key=${process.env.REACT_APP_API_KEY}&language=ko-KR`;\r\nexport const getMovieVideosUrl = (id: string) =>\r\n  `https://api.themoviedb.org/3/movie/${id}/videos?api_key=${process.env.REACT_APP_API_KEY}&language=ko-KR`;\r\nexport const getSearchUrl = (query: string) =>\r\n  `https://api.themoviedb.org/3/search/movie?api_key=${process.env.REACT_APP_API_KEY}&query=${query}&language=ko-KR`;\r\nexport const getImageUrl = (width: number, path: string) =>\r\n  `https://image.tmdb.org/t/p/w${width + path}`;\r\n\r\nexport const homeUrls = [\r\n  { title: \"영화관 상영작\", url: NOW_PLAYING_MOVIES_URL },\r\n  { title: \"인기 영화\", url: POPULAR_MOVIES_URL },\r\n  { title: \"TOP RANKED\", url: TOP_RATED_MOVIES_URL },\r\n  { title: \"개봉 예정작\", url: UPCOMING_MOVIES_URL },\r\n];\r\n\r\nexport const getDetailUrls = (id: string) => [\r\n  getMovieDetailUrl(id),\r\n  getSimilarMoviesUrl(id),\r\n  getMovieVideosUrl(id),\r\n];\r\n","import { createContext, useContext } from \"react\";\r\nimport useFetchAll from \"../hooks/useFetchAll\";\r\nimport { homeUrls } from \"../urls\";\r\nimport { Data, Props } from \"../types\";\r\n\r\ninterface DefaultValue {\r\n  loading: boolean;\r\n  error: Error | null;\r\n  data: Data[];\r\n}\r\n\r\nconst urls = homeUrls.map(({ url }) => url);\r\n\r\nconst HomeContext = createContext<DefaultValue | null>(null);\r\n\r\nexport default function HomeProvider({ children }: Props) {\r\n  const state = useFetchAll(urls);\r\n\r\n  return <HomeContext.Provider value={state}>{children}</HomeContext.Provider>;\r\n}\r\n\r\nexport const useHomeContext = () => {\r\n  const context = useContext(HomeContext);\r\n  if (!context) {\r\n    throw new ReferenceError(\"HomeProvider 컴포넌트를 찾을 수 없습니다.\");\r\n  }\r\n  return context;\r\n};\r\n","import { FormEvent } from \"react\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { FcSearch } from \"react-icons/fc\";\r\nimport { MdClose } from \"react-icons/md\";\r\nimport useInput from \"../hooks/useInput\";\r\nimport style from \"./Header.module.css\";\r\n\r\nconst { header, container, heading, form, input, icon } = style;\r\n\r\nexport default function Header() {\r\n  const [query, setQuery, bindQuery] = useInput();\r\n  const { push } = useHistory();\r\n\r\n  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (!query.trim()) {\r\n      return;\r\n    }\r\n    push(`/search/${query}`);\r\n    setQuery(\"\");\r\n  };\r\n\r\n  const handleClick = () => {\r\n    setQuery(\"\");\r\n  };\r\n\r\n  return (\r\n    <header className={header}>\r\n      <div className={container}>\r\n        <h1 className={heading}>\r\n          <Link to=\"/\">react movie</Link>\r\n        </h1>\r\n        <form className={form} onSubmit={handleSubmit}>\r\n          <span className={icon}>\r\n            <FcSearch />\r\n          </span>\r\n          <input className={input} type=\"search\" title=\"검색\" {...bindQuery} />\r\n          <span className={icon} onClick={handleClick}>\r\n            <MdClose />\r\n          </span>\r\n        </form>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","import { useState, Dispatch, SetStateAction, ChangeEvent } from \"react\";\r\n\r\ntype UseInput = [\r\n  string,\r\n  Dispatch<SetStateAction<string>>,\r\n  {\r\n    value: string;\r\n    onChange: ({ target: { value } }: ChangeEvent<HTMLInputElement>) => void;\r\n  }\r\n];\r\n\r\nexport default function useInput(initialValue = \"\") {\r\n  const [value, setValue] = useState(initialValue);\r\n\r\n  const handleChange = ({\r\n    target: { value },\r\n  }: ChangeEvent<HTMLInputElement>) => {\r\n    setValue(value);\r\n  };\r\n\r\n  const bindValue = { value, onChange: handleChange };\r\n\r\n  return [value, setValue, bindValue] as UseInput;\r\n}\r\n","import { HTMLAttributes } from \"react\";\r\nimport style from \"./Main.module.css\";\r\n\r\ninterface MainProps extends HTMLAttributes<HTMLDivElement> {\r\n  center?: boolean;\r\n}\r\n\r\nconst { main, container, placeCenter } = style;\r\n\r\nexport default function Main({ center, children, ...restProps }: MainProps) {\r\n  return (\r\n    <main className={main}>\r\n      <div className={`${container} ${center && placeCenter}`} {...restProps}>\r\n        {children}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","import Main from \"./Main\";\r\nimport style from \"./Loading.module.css\";\r\n\r\nconst { spinner } = style;\r\n\r\nexport default function Loading() {\r\n  return (\r\n    <Main center>\r\n      <div className={spinner}></div>\r\n    </Main>\r\n  );\r\n}\r\n","import style from \"./MessageCard.module.css\";\r\n\r\ninterface MessageCardProps {\r\n  title: string;\r\n  text: string;\r\n}\r\n\r\nconst { article, heading } = style;\r\n\r\nexport default function MessageCard({ title, text }: MessageCardProps) {\r\n  return (\r\n    <article className={article}>\r\n      <h1 className={heading}>{title}</h1>\r\n      <p>{text}</p>\r\n    </article>\r\n  );\r\n}\r\n","import Main from \"./Main\";\r\nimport MessageCard from \"./MessageCard\";\r\n\r\ninterface FailureProps {\r\n  error: {\r\n    name: string;\r\n    message: string;\r\n  };\r\n}\r\n\r\nexport default function Failure({ error: { name, message } }: FailureProps) {\r\n  return (\r\n    <Main center>\r\n      <MessageCard\r\n        title={`${name}: ${message}`}\r\n        text=\"잠시 후에 다시 시도해주세요.\"\r\n      />\r\n    </Main>\r\n  );\r\n}\r\n","import { forwardRef } from \"react\";\r\nimport style from \"./Indicator.module.css\";\r\n\r\nconst { wrapper } = style;\r\n\r\nexport default forwardRef<HTMLDivElement>(function Indicator(_, ref) {\r\n  return <div className={wrapper} ref={ref}></div>;\r\n});\r\n","import { Link } from \"react-router-dom\";\r\nimport { getImageUrl } from \"../urls\";\r\nimport { MovieData } from \"../types\";\r\nimport style from \"./Movie.module.css\";\r\n\r\ninterface MovieProps {\r\n  movie: MovieData;\r\n}\r\n\r\nconst { figure, img } = style;\r\n\r\nexport default function Movie({\r\n  movie: { id, title, poster_path },\r\n}: MovieProps) {\r\n  const src = getImageUrl(500, poster_path);\r\n\r\n  return (\r\n    <figure className={figure}>\r\n      <Link to={`/detail/${id}`}>\r\n        <img className={img} src={src} alt={title} />\r\n      </Link>\r\n    </figure>\r\n  );\r\n}\r\n","import { useRef, UIEvent, MouseEvent } from \"react\";\r\nimport { MdKeyboardArrowLeft, MdKeyboardArrowRight } from \"react-icons/md\";\r\nimport Indicator from \"../common/Indicator\";\r\nimport Movie from \"./Movie\";\r\nimport { MovieData } from \"../types\";\r\nimport style from \"./Movies.module.css\";\r\n\r\ninterface MoviesProps {\r\n  title: string;\r\n  movies: MovieData[];\r\n}\r\n\r\nconst { section, header, heading, sliderContainer, slider, button } = style;\r\n\r\nexport default function Movies({ title, movies }: MoviesProps) {\r\n  const sliderRef = useRef<HTMLDivElement>(null);\r\n  const indicatorRef = useRef<HTMLDivElement>(null);\r\n\r\n  const handleClick = ({\r\n    currentTarget: {\r\n      dataset: { direction },\r\n    },\r\n  }: MouseEvent<HTMLButtonElement, globalThis.MouseEvent>) => {\r\n    const slider = sliderRef.current;\r\n\r\n    if (slider) {\r\n      const { clientWidth } = slider;\r\n      const sliderGap = parseInt(getComputedStyle(slider).gap);\r\n      const movement = clientWidth + sliderGap;\r\n\r\n      switch (direction) {\r\n        case \"left\":\r\n          slider.scrollLeft -= movement;\r\n          break;\r\n        case \"right\":\r\n          slider.scrollLeft += movement;\r\n          break;\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleScroll = ({\r\n    currentTarget: { scrollLeft, scrollWidth, clientWidth },\r\n  }: UIEvent<HTMLDivElement, globalThis.UIEvent>) => {\r\n    const indicator = indicatorRef.current;\r\n    const scrollableArea = scrollWidth - clientWidth;\r\n    const progress = `${Math.round((scrollLeft / scrollableArea) * 100)}%`;\r\n\r\n    if (indicator) {\r\n      indicator.style.setProperty(\"--progress\", progress);\r\n    }\r\n  };\r\n\r\n  return !movies.length ? (\r\n    <p>{`${title} 정보가 없습니다. 😥`}</p>\r\n  ) : (\r\n    <section className={section}>\r\n      <header className={header}>\r\n        <h1 className={heading}>{title}</h1>\r\n        <Indicator ref={indicatorRef} />\r\n      </header>\r\n      <div className={sliderContainer}>\r\n        <button\r\n          className={button}\r\n          type=\"button\"\r\n          data-direction=\"left\"\r\n          onClick={handleClick}\r\n        >\r\n          <MdKeyboardArrowLeft />\r\n        </button>\r\n        <div className={slider} ref={sliderRef} onScroll={handleScroll}>\r\n          {movies.map((movie: MovieData) => {\r\n            const { id, poster_path, backdrop_path } = movie;\r\n            if (!poster_path || !backdrop_path) {\r\n              return null;\r\n            }\r\n            return <Movie key={id} movie={movie} />;\r\n          })}\r\n        </div>\r\n        <button\r\n          className={button}\r\n          type=\"button\"\r\n          data-direction=\"right\"\r\n          onClick={handleClick}\r\n        >\r\n          <MdKeyboardArrowRight />\r\n        </button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import { v4 as uuid } from \"uuid\";\r\nimport { useHomeContext } from \"../contexts/HomeContext\";\r\nimport { homeUrls } from \"../urls\";\r\nimport Loading from \"../components/Loading\";\r\nimport Failure from \"../components/Failure\";\r\nimport Main from \"../components/Main\";\r\nimport Movies from \"../components/Movies\";\r\nimport { Data } from \"../types\";\r\n\r\nconst titles = homeUrls.map(({ title }) => title);\r\n\r\nexport default function Home() {\r\n  const { loading, error, data } = useHomeContext();\r\n\r\n  return loading ? (\r\n    <Loading />\r\n  ) : error ? (\r\n    <Failure error={error} />\r\n  ) : (\r\n    <Main>\r\n      {data.map(({ results: movies }: Data, index: number) => (\r\n        <Movies key={uuid()} title={titles[index]} movies={movies} />\r\n      ))}\r\n    </Main>\r\n  );\r\n}\r\n","import { v4 as uuid } from \"uuid\";\r\nimport { FaRegStar } from \"react-icons/fa\";\r\nimport style from \"./StarRating.module.css\";\r\n\r\nconst { wrapper, icon } = style;\r\n\r\ninterface StarRatingProps {\r\n  value: number;\r\n}\r\n\r\nexport default function StarRating({ value }: StarRatingProps) {\r\n  return (\r\n    <span className={wrapper}>\r\n      {Array.from(Array(5), (_, index) => {\r\n        const starCount = index + 1;\r\n\r\n        if (starCount <= value) {\r\n          return (\r\n            <span key={uuid()} className={icon}>\r\n              <FaRegStar color=\"orange\" />\r\n            </span>\r\n          );\r\n        }\r\n        return (\r\n          <span key={uuid()} className={icon}>\r\n            <FaRegStar />\r\n          </span>\r\n        );\r\n      })}\r\n    </span>\r\n  );\r\n}\r\n","import { FcCalendar, FcClock } from \"react-icons/fc\";\r\nimport { FaTags } from \"react-icons/fa\";\r\nimport { getImageUrl } from \"../urls\";\r\nimport StarRating from \"../common/StarRating\";\r\nimport { MovieData } from \"../types\";\r\nimport style from \"./DetailHead.module.css\";\r\n\r\ninterface BackdropProps {\r\n  movie: MovieData;\r\n}\r\n\r\nconst { wrapper, container, heading, movieInfo, subInfo } = style;\r\n\r\nexport default function Backdrop({\r\n  movie: {\r\n    backdrop_path,\r\n    title,\r\n    vote_average,\r\n    vote_count,\r\n    release_date,\r\n    genres,\r\n    runtime,\r\n  },\r\n}: BackdropProps) {\r\n  const wrapperStyle = {\r\n    backgroundImage: `url(${getImageUrl(1280, backdrop_path)})`,\r\n  };\r\n\r\n  return (\r\n    <div className={wrapper} style={wrapperStyle}>\r\n      <div className={container}>\r\n        <h1 className={heading}>{title}</h1>\r\n        <div className={movieInfo}>\r\n          <StarRating value={Math.round(vote_average / 2)} />\r\n          {`${vote_average} (${vote_count}명)`}\r\n        </div>\r\n        <div className={movieInfo}>\r\n          <span className={subInfo}>\r\n            <FcCalendar />\r\n            {release_date}\r\n          </span>\r\n          <span className={subInfo}>\r\n            <FaTags />\r\n            {genres.map(({ name }: { name: string }) => name).join(\", \")}\r\n          </span>\r\n          <span className={subInfo}>\r\n            <FcClock />\r\n            {`${runtime}분`}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, Dispatch, SetStateAction, MouseEvent } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { Props } from \"../types\";\r\nimport style from \"./Modal.module.css\";\r\n\r\ninterface ModalProps extends Props {\r\n  isOpen: boolean;\r\n  setIsOpen: Dispatch<SetStateAction<boolean>>;\r\n  target: string;\r\n}\r\n\r\nconst { wrapper } = style;\r\n\r\nexport default function Modal({\r\n  isOpen,\r\n  setIsOpen,\r\n  target,\r\n  children,\r\n}: ModalProps) {\r\n  const handleClick = ({\r\n    target,\r\n    currentTarget,\r\n  }: MouseEvent<HTMLDivElement, globalThis.MouseEvent>) => {\r\n    if (target === currentTarget) {\r\n      setIsOpen(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleKeydown = ({ key }: KeyboardEvent) => {\r\n      if (key === \"Escape\") {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", handleKeydown);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleKeydown);\r\n    };\r\n  }, [setIsOpen]);\r\n\r\n  const container = document.querySelector(target);\r\n\r\n  if (!container) {\r\n    throw new ReferenceError(\"모달 컨테이너로 사용할 타겟을 찾지 못했습니다.\");\r\n  }\r\n\r\n  return createPortal(\r\n    isOpen && (\r\n      <div className={wrapper} onClick={handleClick}>\r\n        {children}\r\n      </div>\r\n    ),\r\n    container\r\n  );\r\n}\r\n","import YouTube from \"react-youtube\";\r\nimport style from \"./Trailer.module.css\";\r\n\r\nconst { figure, container, iframe } = style;\r\n\r\ninterface TrailerProps {\r\n  videoId: string;\r\n}\r\n\r\nexport default function Trailer({ videoId }: TrailerProps) {\r\n  return (\r\n    <figure className={figure}>\r\n      <YouTube\r\n        containerClassName={container}\r\n        className={iframe}\r\n        videoId={videoId}\r\n      />\r\n    </figure>\r\n  );\r\n}\r\n","import { useReducer, useEffect } from \"react\";\r\n\r\ninterface State {\r\n  data: any;\r\n  error: Error | null;\r\n  loading: boolean;\r\n}\r\n\r\nenum ActionType {\r\n  SUCCESS = \"SUCCESS\",\r\n  FAILURE = \"FAILURE\",\r\n  COMPLETE = \"COMPLETE\",\r\n}\r\n\r\ntype Action =\r\n  | { type: ActionType.SUCCESS; data: any }\r\n  | { type: ActionType.FAILURE; error: Error }\r\n  | { type: ActionType.COMPLETE };\r\n\r\nconst initialState = {\r\n  data: null,\r\n  error: null,\r\n  loading: true,\r\n};\r\n\r\nconst reducer = (state: State, action: Action) => {\r\n  switch (action.type) {\r\n    case ActionType.SUCCESS:\r\n      return { ...state, data: action.data };\r\n    case ActionType.FAILURE:\r\n      return { ...state, error: action.error };\r\n    case ActionType.COMPLETE:\r\n      return { ...state, loading: false };\r\n    default:\r\n      throw new SyntaxError(\"유효하지 않은 액션 타입입니다.\");\r\n  }\r\n};\r\n\r\nexport default function useFetch(url: string) {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const res = await fetch(url);\r\n        const data = await res.json();\r\n        dispatch({ type: ActionType.SUCCESS, data });\r\n      } catch (error) {\r\n        dispatch({ type: ActionType.FAILURE, error });\r\n      } finally {\r\n        dispatch({ type: ActionType.COMPLETE });\r\n      }\r\n    })();\r\n  }, [url]);\r\n\r\n  return state;\r\n}\r\n","import { useState } from \"react\";\r\nimport { getImageUrl } from \"../urls\";\r\nimport Modal from \"../common/Modal\";\r\nimport Trailer from \"../components/Trailer\";\r\nimport Movies from \"../components/Movies\";\r\nimport { MovieData } from \"../types\";\r\nimport style from \"./DetailBody.module.css\";\r\n\r\ninterface DetailBodyProps {\r\n  movie: MovieData;\r\n  movies: MovieData[];\r\n  trailer: { key: string };\r\n}\r\n\r\nconst { wrapper, container, figure, img, synopsis, button } = style;\r\n\r\nexport default function DetailBody({\r\n  movie: { poster_path, title, overview },\r\n  movies,\r\n  trailer,\r\n}: DetailBodyProps) {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const handleClick = () => {\r\n    setIsOpen(true);\r\n  };\r\n\r\n  const src = getImageUrl(500, poster_path);\r\n\r\n  return (\r\n    <div className={wrapper}>\r\n      <div className={container}>\r\n        <figure className={figure}>\r\n          <img className={img} src={src} alt={title} />\r\n          <figcaption\r\n            style={{\r\n              display: \"grid\",\r\n              alignContent: \"space-between\",\r\n              gap: \"2rem\",\r\n            }}\r\n          >\r\n            <div style={{ display: \"grid\", gap: \"0.5rem\" }}>\r\n              <p className={synopsis}>synopsis</p>\r\n              {overview ? overview : \"데이터가 존재하지 않습니다. 😥\"}\r\n            </div>\r\n            {trailer && (\r\n              <>\r\n                <button className={button} type=\"button\" onClick={handleClick}>\r\n                  예고편 미리보기\r\n                </button>\r\n                <Modal\r\n                  isOpen={isOpen}\r\n                  setIsOpen={setIsOpen}\r\n                  target=\"#modal-root\"\r\n                >\r\n                  <Trailer videoId={trailer.key} />\r\n                </Modal>\r\n              </>\r\n            )}\r\n          </figcaption>\r\n        </figure>\r\n        <Movies title=\"비슷한 영화\" movies={movies} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useRef } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport useFetchAll from \"../hooks/useFetchAll\";\r\nimport { getDetailUrls } from \"../urls\";\r\nimport Loading from \"../components/Loading\";\r\nimport Failure from \"../components/Failure\";\r\nimport DetailHead from \"../components/DetailHead\";\r\nimport DetailBody from \"../components/DetailBody\";\r\n\r\nexport default function Detail() {\r\n  const { id } = useParams<{ id: string }>();\r\n  const urls = useRef(getDetailUrls(id));\r\n  const { loading, error, data } = useFetchAll(urls.current);\r\n\r\n  return loading ? (\r\n    <Loading />\r\n  ) : error ? (\r\n    <Failure error={error} />\r\n  ) : (\r\n    <main>\r\n      <DetailHead movie={data[0]} />\r\n      <DetailBody\r\n        movie={data[0]}\r\n        movies={data[1].results}\r\n        trailer={data[2].results[0]}\r\n      />\r\n    </main>\r\n  );\r\n}\r\n","import Movie from \"./Movie\";\r\nimport { MovieData } from \"../types\";\r\nimport style from \"./SearchResult.module.css\";\r\n\r\ninterface SearchResultProps {\r\n  title: string;\r\n  movies: MovieData[];\r\n}\r\n\r\nconst { section, heading, grid } = style;\r\n\r\nexport default function SearchResult({ title, movies }: SearchResultProps) {\r\n  return (\r\n    <section className={section}>\r\n      <h1 className={heading}>{title}</h1>\r\n      <div className={grid}>\r\n        {movies.map((movie: MovieData) => {\r\n          const { id, poster_path, backdrop_path } = movie;\r\n          if (!poster_path || !backdrop_path) {\r\n            return null;\r\n          }\r\n          return <Movie key={id} movie={movie} />;\r\n        })}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import { useParams } from \"react-router-dom\";\r\nimport useFetch from \"../hooks/useFetch\";\r\nimport { getSearchUrl } from \"../urls\";\r\nimport Loading from \"../components/Loading\";\r\nimport Failure from \"../components/Failure\";\r\nimport Main from \"../components/Main\";\r\nimport MessageCard from \"../components/MessageCard\";\r\nimport SearchResult from \"../components/SearchResult\";\r\n\r\nexport default function Search() {\r\n  const { query } = useParams<{ query: string }>();\r\n  const url = getSearchUrl(query);\r\n  const { loading, error, data } = useFetch(url);\r\n\r\n  return loading ? (\r\n    <Loading />\r\n  ) : error ? (\r\n    <Failure error={error} />\r\n  ) : !data.results.length ? (\r\n    <Main center>\r\n      <MessageCard title={`\"${query}\"`} text=\"검색 결과를 찾지 못했습니다.\" />\r\n    </Main>\r\n  ) : (\r\n    <Main>\r\n      <SearchResult title={`\"${query}\" 검색 결과`} movies={data.results} />\r\n    </Main>\r\n  );\r\n}\r\n","import Main from \"../components/Main\";\r\nimport MessageCard from \"../components/MessageCard\";\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <Main center>\r\n      <MessageCard\r\n        title=\"404 Error\"\r\n        text=\"요청하신 페이지를 찾지 못했습니다.\"\r\n      />\r\n    </Main>\r\n  );\r\n}\r\n","import style from \"./Footer.module.css\";\r\n\r\nconst { footer, container, copyright } = style;\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className={footer}>\r\n      <div className={container}>\r\n        <p className={copyright}>&copy; 2021. yeouya</p>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n","import { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { v4 as uuid } from \"uuid\";\nimport HomeProvider from \"./contexts/HomeContext\";\nimport Header from \"./components/Header\";\nimport Home from \"./pages/Home\";\nimport Detail from \"./pages/Detail\";\nimport Search from \"./pages/Search\";\nimport NotFound from \"./pages/NotFound\";\nimport Footer from \"./components/Footer\";\n\nexport default function App() {\n  return (\n    <HomeProvider>\n      <Router>\n        <Header />\n        <Switch>\n          <Route path=\"/\" exact>\n            <Home />\n          </Route>\n          <Route\n            path=\"/detail/:id\"\n            render={() => <Detail key={uuid()} />}\n            exact\n          />\n          <Route\n            path=\"/search/:query\"\n            render={() => <Search key={uuid()} />}\n            exact\n          />\n          <Route path=\"*\">\n            <NotFound />\n          </Route>\n        </Switch>\n        <Footer />\n      </Router>\n    </HomeProvider>\n  );\n}\n","import { StrictMode } from \"react\";\nimport { render } from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nrender(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}