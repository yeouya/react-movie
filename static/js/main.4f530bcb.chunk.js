(this["webpackJsonpreact-movie"]=this["webpackJsonpreact-movie"]||[]).push([[0],{14:function(e,t,a){e.exports={header:"Header_header__2xseJ",container:"Header_container__2LJNz",heading:"Header_heading__2fdda",form:"Header_form__3iWB3",input:"Header_input__1pUvx",icon:"Header_icon__3BRb_"}},15:function(e,t,a){e.exports={section:"Movies_section__368NK",header:"Movies_header__10CG5",heading:"Movies_heading__3umzq",sliderContainer:"Movies_sliderContainer__2gy5n",slider:"Movies_slider__VUt4w",button:"Movies_button__3rRio"}},16:function(e,t,a){e.exports={wrapper:"DetailBody_wrapper__1nVnn",container:"DetailBody_container__9kFcM",figure:"DetailBody_figure__2q5W8",img:"DetailBody_img__2gAnW",synopsis:"DetailBody_synopsis__154G6",button:"DetailBody_button__3zbzL"}},17:function(e,t,a){e.exports={wrapper:"DetailHead_wrapper__1FLQU",container:"DetailHead_container__1-L1h",heading:"DetailHead_heading__3RAtd",movieInfo:"DetailHead_movieInfo__b1j2Y",subInfo:"DetailHead_subInfo__yDP5M"}},23:function(e,t,a){e.exports={main:"Main_main__1NzAi",container:"Main_container__1tCur",placeCenter:"Main_placeCenter__Duf2p"}},24:function(e,t,a){e.exports={figure:"Trailer_figure__2LxrC",container:"Trailer_container__2ZHcn",iframe:"Trailer_iframe__1LOJN"}},25:function(e,t,a){e.exports={section:"SearchResult_section__2VQvh",heading:"SearchResult_heading__190dY",grid:"SearchResult_grid__Y6zte"}},26:function(e,t,a){e.exports={footer:"Footer_footer__JQIrY",container:"Footer_container__16FTr",copyright:"Footer_copyright__2kG1j"}},31:function(e,t,a){e.exports={article:"MessageCard_article__1drxq",heading:"MessageCard_heading__14Ly-"}},32:function(e,t,a){e.exports={wrapper:"StarRating_wrapper__2yQDq",icon:"StarRating_icon__1kTqb"}},36:function(e,t,a){e.exports={spinner:"Loading_spinner__1fslG",rotation:"Loading_rotation__39Ef4"}},37:function(e,t,a){e.exports={wrapper:"Indicator_wrapper__3JDIu"}},38:function(e,t,a){e.exports={img:"Movie_img__1GbsF"}},39:function(e,t,a){e.exports={wrapper:"Modal_wrapper__3lFFV"}},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a(2),n=a(22),i=a(11),s=a(3),o=a(69),l=a(5),u=a(10),j=a(18),d=a(19);var b=a(14),p=a.n(b),h=p.a.header,O=p.a.container,f=p.a.heading,_=p.a.form,x=p.a.input,m=p.a.icon;function v(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(c.useState)(e),a=Object(u.a)(t,2),r=a[0],n=a[1],i=function(e){var t=e.target.value;n(t)};return[r,n,{value:r,onChange:i}]}(),t=Object(u.a)(e,3),a=t[0],n=t[1],o=t[2],b=Object(s.f)().push;return Object(r.jsx)("header",{className:h,children:Object(r.jsxs)("div",{className:O,children:[Object(r.jsx)("h1",{className:f,children:Object(r.jsx)(i.b,{to:"/",children:"react movie"})}),Object(r.jsxs)("form",{className:_,onSubmit:function(e){e.preventDefault(),a.trim()&&(b("/search/".concat(a)),n(""))},children:[Object(r.jsx)("span",{className:m,children:Object(r.jsx)(j.c,{})}),Object(r.jsx)("input",Object(l.a)({className:x,type:"search",title:"\uac80\uc0c9"},o)),Object(r.jsx)("span",{className:m,onClick:function(){n("")},children:Object(r.jsx)(d.a,{})})]})]})})}var g,y=a(12),N=a.n(y),C=a(20);!function(e){e.SUCCESS="SUCCESS",e.FAILURE="FAILURE",e.COMPLETE="COMPLETE"}(g||(g={}));var E={data:null,error:null,loading:!0},k=function(e,t){switch(t.type){case g.SUCCESS:return Object(l.a)(Object(l.a)({},e),{},{data:t.data});case g.FAILURE:return Object(l.a)(Object(l.a)({},e),{},{error:t.error});case g.COMPLETE:return Object(l.a)(Object(l.a)({},e),{},{loading:!1});default:throw new SyntaxError("\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc561\uc158 \ud0c0\uc785\uc785\ub2c8\ub2e4.")}};function w(e){var t=Object(c.useReducer)(k,E),a=Object(u.a)(t,2),r=a[0],n=a[1];return Object(c.useEffect)((function(){Object(C.a)(N.a.mark((function t(){var a,r,c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.map((function(e){return fetch(e)})),t.next=4,Promise.allSettled(a);case 4:return r=t.sent,t.next=7,Promise.all(r.map(function(){var e=Object(C.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"fulfilled"!==t.status){e.next=8;break}return e.next=5,t.value.json();case 5:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",t.reason);case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()));case 7:c=t.sent,n({type:g.SUCCESS,data:c}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0),n({type:g.FAILURE,error:t.t0});case 15:return t.prev=15,n({type:g.COMPLETE}),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[0,11,15,18]])})))()}),[e]),r}var S="https://api.themoviedb.org/3/movie/now_playing?api_key=".concat("d2f068a2804bac3ac3fc858cc297ce01","&language=ko-KR&region=KR"),R="https://api.themoviedb.org/3/movie/popular?api_key=".concat("d2f068a2804bac3ac3fc858cc297ce01","&language=ko-KR&region=KR"),L="https://api.themoviedb.org/3/movie/top_rated?api_key=".concat("d2f068a2804bac3ac3fc858cc297ce01","&language=ko-KR&region=KR"),M="https://api.themoviedb.org/3/movie/upcoming?api_key=".concat("d2f068a2804bac3ac3fc858cc297ce01","&language=ko-KR&region=KR"),I=function(e){return"https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat("d2f068a2804bac3ac3fc858cc297ce01","&language=ko-KR")},U=function(e){return"https://api.themoviedb.org/3/movie/".concat(e,"/similar?api_key=").concat("d2f068a2804bac3ac3fc858cc297ce01","&language=ko-KR")},F=function(e){return"https://api.themoviedb.org/3/movie/".concat(e,"/videos?api_key=").concat("d2f068a2804bac3ac3fc858cc297ce01","&language=ko-KR")},D=function(e,t){return"http://image.tmdb.org/t/p/w".concat(e+t)},T=[{title:"\uc601\ud654\uad00 \uc0c1\uc601\uc791",url:S},{title:"\uc778\uae30 \uc601\ud654",url:R},{title:"TOP RANKED",url:L},{title:"\uac1c\ubd09 \uc608\uc815\uc791",url:M}],A=a(43),K=a(23),P=a.n(K),H=P.a.main,q=P.a.container,B=P.a.placeCenter;function J(e){var t=e.center,a=e.children,c=Object(A.a)(e,["center","children"]);return Object(r.jsx)("main",{className:H,children:Object(r.jsx)("div",Object(l.a)(Object(l.a)({className:"".concat(q," ").concat(t&&B)},c),{},{children:a}))})}var z=a(36),W=a.n(z).a.spinner;function G(){return Object(r.jsx)(J,{center:!0,children:Object(r.jsx)("div",{className:W})})}var Q=a(31),V=a.n(Q),Y=V.a.article,Z=V.a.heading;function X(e){var t=e.title,a=e.text;return Object(r.jsxs)("article",{className:Y,children:[Object(r.jsx)("h1",{className:Z,children:t}),Object(r.jsx)("p",{children:a})]})}function $(e){var t=e.error,a=t.name,c=t.message;return Object(r.jsx)(J,{center:!0,children:Object(r.jsx)(X,{title:"".concat(a,": ").concat(c),text:"\uc7a0\uc2dc \ud6c4\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."})})}var ee=a(37),te=a.n(ee).a.wrapper,ae=Object(c.forwardRef)((function(e,t){return Object(r.jsx)("div",{className:te,ref:t})})),re=a(38),ce=a.n(re).a.img;function ne(e){var t=e.movie,a=t.id,c=t.title,n=t.poster_path,s=D(500,n);return Object(r.jsx)("figure",{children:Object(r.jsx)(i.b,{to:"/detail/".concat(a),children:Object(r.jsx)("img",{className:ce,src:s,alt:c})})})}var ie=a(15),se=a.n(ie),oe=se.a.section,le=se.a.header,ue=se.a.heading,je=se.a.sliderContainer,de=se.a.slider,be=se.a.button;function pe(e){var t=e.title,a=e.movies,n=Object(c.useRef)(null),i=Object(c.useRef)(null),s=function(e){var t=e.currentTarget.dataset.direction,a=n.current;if(a){var r=a.clientWidth+parseInt(getComputedStyle(a).gap);switch(t){case"left":a.scrollLeft-=r;break;case"right":a.scrollLeft+=r}}};return a.length?Object(r.jsxs)("section",{className:oe,children:[Object(r.jsxs)("header",{className:le,children:[Object(r.jsx)("h1",{className:ue,children:t}),Object(r.jsx)(ae,{ref:i})]}),Object(r.jsxs)("div",{className:je,children:[Object(r.jsx)("button",{className:be,type:"button","data-direction":"left",onClick:s,children:Object(r.jsx)(d.b,{})}),Object(r.jsx)("div",{className:de,ref:n,onScroll:function(e){var t=e.currentTarget,a=t.scrollLeft,r=t.scrollWidth,c=t.clientWidth,n=i.current,s=r-c,o="".concat(Math.round(a/s*100),"%");n&&n.style.setProperty("--progress",o)},children:a.map((function(e){var t=e.id,a=e.poster_path,c=e.backdrop_path;return a&&c?Object(r.jsx)(ne,{movie:e},t):null}))}),Object(r.jsx)("button",{className:be,type:"button","data-direction":"right",onClick:s,children:Object(r.jsx)(d.c,{})})]})]}):Object(r.jsx)("p",{children:"".concat(t," \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \ud83d\ude25")})}var he=T.map((function(e){return e.url})),Oe=T.map((function(e){return e.title}));function fe(){var e=w(he),t=e.loading,a=e.error,c=e.data;return t?Object(r.jsx)(G,{}):a?Object(r.jsx)($,{error:a}):Object(r.jsx)(J,{children:c.map((function(e,t){var a=e.results;return Object(r.jsx)(pe,{title:Oe[t],movies:a},Object(o.a)())}))})}var _e=a(21),xe=a(32),me=a.n(xe),ve=me.a.wrapper,ge=me.a.icon;function ye(e){var t=e.value;return Object(r.jsx)("span",{className:ve,children:Array.from(Array(5),(function(e,a){return a+1<=t?Object(r.jsx)("span",{className:ge,children:Object(r.jsx)(_e.a,{color:"orange"})},Object(o.a)()):Object(r.jsx)("span",{className:ge,children:Object(r.jsx)(_e.a,{})},Object(o.a)())}))})}var Ne=a(17),Ce=a.n(Ne),Ee=Ce.a.wrapper,ke=Ce.a.container,we=Ce.a.heading,Se=Ce.a.movieInfo,Re=Ce.a.subInfo;function Le(e){var t=e.movie,a=t.backdrop_path,c=t.title,n=t.vote_average,i=t.vote_count,s=t.release_date,o=t.genres,l=t.runtime,u={backgroundImage:"url(".concat(D(1280,a),")")};return Object(r.jsx)("div",{className:Ee,style:u,children:Object(r.jsxs)("div",{className:ke,children:[Object(r.jsx)("h1",{className:we,children:c}),Object(r.jsxs)("div",{className:Se,children:[Object(r.jsx)(ye,{value:Math.round(n/2)}),"".concat(n," (").concat(i,"\uba85)")]}),Object(r.jsxs)("div",{className:Se,children:[Object(r.jsxs)("span",{className:Re,children:[Object(r.jsx)(j.a,{}),s]}),Object(r.jsxs)("span",{className:Re,children:[Object(r.jsx)(_e.b,{}),o.map((function(e){return e.name})).join(", ")]}),Object(r.jsxs)("span",{className:Re,children:[Object(r.jsx)(j.b,{}),"".concat(l,"\ubd84")]})]})]})})}var Me=a(39),Ie=a.n(Me).a.wrapper;function Ue(e){var t=e.isOpen,a=e.setIsOpen,i=e.target,s=e.children;Object(c.useEffect)((function(){var e=function(e){"Escape"===e.key&&a(!1)};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[a]);var o=document.querySelector(i);if(!o)throw new ReferenceError("\ubaa8\ub2ec \ucee8\ud14c\uc774\ub108\ub85c \uc0ac\uc6a9\ud560 \ud0c0\uac9f\uc744 \ucc3e\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.");return Object(n.createPortal)(t&&Object(r.jsx)("div",{className:Ie,onClick:function(e){e.target===e.currentTarget&&a(!1)},children:s}),o)}var Fe=a(40),De=a(24),Te=a.n(De),Ae=Te.a.figure,Ke=Te.a.container,Pe=Te.a.iframe;function He(e){var t=e.videoId;return Object(r.jsx)("figure",{className:Ae,children:Object(r.jsx)(Fe.a,{containerClassName:Ke,className:Pe,videoId:t})})}var qe,Be=a(16),Je=a.n(Be),ze=Je.a.wrapper,We=Je.a.container,Ge=Je.a.figure,Qe=Je.a.img,Ve=Je.a.synopsis,Ye=Je.a.button;function Ze(e){var t=e.movie,a=t.poster_path,n=t.title,i=t.overview,s=e.movies,o=e.trailer,l=Object(c.useState)(!1),j=Object(u.a)(l,2),d=j[0],b=j[1],p=D(500,a);return Object(r.jsx)("div",{className:ze,children:Object(r.jsxs)("div",{className:We,children:[Object(r.jsxs)("figure",{className:Ge,children:[Object(r.jsx)("img",{className:Qe,src:p,alt:n}),Object(r.jsxs)("figcaption",{style:{display:"grid",alignContent:"space-between",gap:"2rem"},children:[Object(r.jsxs)("div",{style:{display:"grid",gap:"0.5rem"},children:[Object(r.jsx)("p",{className:Ve,children:"synopsis"}),i||"\ub370\uc774\ud130\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ud83d\ude25"]}),o&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{className:Ye,type:"button",onClick:function(){b(!0)},children:"\uc608\uace0\ud3b8 \ubbf8\ub9ac\ubcf4\uae30"}),Object(r.jsx)(Ue,{isOpen:d,setIsOpen:b,target:"#modal-root",children:Object(r.jsx)(He,{videoId:o.key})})]})]})]}),Object(r.jsx)(pe,{title:"\ube44\uc2b7\ud55c \uc601\ud654",movies:s})]})})}function Xe(){var e=Object(s.g)().id,t=w(Object(c.useRef)(function(e){return[I(e),U(e),F(e)]}(e)).current),a=t.loading,n=t.error,i=t.data;return a?Object(r.jsx)(G,{}):n?Object(r.jsx)($,{error:n}):Object(r.jsxs)("main",{children:[Object(r.jsx)(Le,{movie:i[0]}),Object(r.jsx)(Ze,{movie:i[0],movies:i[1].results,trailer:i[2].results[0]})]})}!function(e){e.SUCCESS="SUCCESS",e.FAILURE="FAILURE",e.COMPLETE="COMPLETE"}(qe||(qe={}));var $e={data:null,error:null,loading:!0},et=function(e,t){switch(t.type){case qe.SUCCESS:return Object(l.a)(Object(l.a)({},e),{},{data:t.data});case qe.FAILURE:return Object(l.a)(Object(l.a)({},e),{},{error:t.error});case qe.COMPLETE:return Object(l.a)(Object(l.a)({},e),{},{loading:!1});default:throw new SyntaxError("\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc561\uc158 \ud0c0\uc785\uc785\ub2c8\ub2e4.")}};var tt=a(25),at=a.n(tt),rt=at.a.section,ct=at.a.heading,nt=at.a.grid;function it(e){var t=e.title,a=e.movies;return Object(r.jsxs)("section",{className:rt,children:[Object(r.jsx)("h1",{className:ct,children:t}),Object(r.jsx)("div",{className:nt,children:a.map((function(e){var t=e.id,a=e.poster_path,c=e.backdrop_path;return a&&c?Object(r.jsx)(ne,{movie:e},t):null}))})]})}function st(){var e=Object(s.g)().query,t=function(e){var t=Object(c.useReducer)(et,$e),a=Object(u.a)(t,2),r=a[0],n=a[1];return Object(c.useEffect)((function(){Object(C.a)(N.a.mark((function t(){var a,r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:return a=t.sent,t.next=6,a.json();case 6:r=t.sent,n({type:qe.SUCCESS,data:r}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:qe.FAILURE,error:t.t0});case 13:return t.prev=13,n({type:qe.COMPLETE}),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})))()}),[e]),r}(function(e){return"https://api.themoviedb.org/3/search/movie?api_key=".concat("d2f068a2804bac3ac3fc858cc297ce01","&query=").concat(e,"&language=ko-KR")}(e)),a=t.loading,n=t.error,i=t.data;return a?Object(r.jsx)(G,{}):n?Object(r.jsx)($,{error:n}):i.results.length?Object(r.jsx)(J,{children:Object(r.jsx)(it,{title:'"'.concat(e,'" \uac80\uc0c9 \uacb0\uacfc'),movies:i.results})}):Object(r.jsx)(J,{center:!0,children:Object(r.jsx)(X,{title:'"'.concat(e,'"'),text:"\uac80\uc0c9 \uacb0\uacfc\ub97c \ucc3e\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."})})}function ot(){return Object(r.jsx)(J,{center:!0,children:Object(r.jsx)(X,{title:"404 Error",text:"\uc694\uccad\ud558\uc2e0 \ud398\uc774\uc9c0\ub97c \ucc3e\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."})})}var lt=a(26),ut=a.n(lt),jt=ut.a.footer,dt=ut.a.container,bt=ut.a.copyright;function pt(){return Object(r.jsx)("footer",{className:jt,children:Object(r.jsx)("div",{className:dt,children:Object(r.jsx)("p",{className:bt,children:"\xa9 2021. yeouya"})})})}function ht(){return Object(r.jsxs)(i.a,{children:[Object(r.jsx)(v,{}),Object(r.jsxs)(s.c,{children:[Object(r.jsx)(s.a,{path:"/",exact:!0,children:Object(r.jsx)(fe,{})}),Object(r.jsx)(s.a,{path:"/detail/:id",render:function(){return Object(r.jsx)(Xe,{},Object(o.a)())},exact:!0}),Object(r.jsx)(s.a,{path:"/search/:query",render:function(){return Object(r.jsx)(st,{},Object(o.a)())},exact:!0}),Object(r.jsx)(s.a,{path:"*",children:Object(r.jsx)(ot,{})})]}),Object(r.jsx)(pt,{})]})}a(67);Object(n.render)(Object(r.jsx)(c.StrictMode,{children:Object(r.jsx)(ht,{})}),document.querySelector("#root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.4f530bcb.chunk.js.map