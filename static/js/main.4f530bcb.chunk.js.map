{"version":3,"sources":["components/Header.module.css","components/Movies.module.css","components/DetailBody.module.css","components/DetailHead.module.css","components/Main.module.css","components/Trailer.module.css","components/SearchResult.module.css","components/Footer.module.css","components/MessageCard.module.css","common/StarRating.module.css","components/Loading.module.css","common/Indicator.module.css","components/Movie.module.css","common/Modal.module.css","components/Header.tsx","hooks/useInput.ts","hooks/useFetchAll.ts","urls.ts","components/Main.tsx","components/Loading.tsx","components/MessageCard.tsx","components/Failure.tsx","common/Indicator.tsx","components/Movie.tsx","components/Movies.tsx","pages/Home.tsx","common/StarRating.tsx","components/DetailHead.tsx","common/Modal.tsx","components/Trailer.tsx","hooks/useFetch.ts","components/DetailBody.tsx","pages/Detail.tsx","components/SearchResult.tsx","pages/Search.tsx","pages/NotFound.tsx","components/Footer.tsx","App.tsx","index.tsx"],"names":["module","exports","header","style","container","heading","form","input","icon","Header","initialValue","useState","value","setValue","handleChange","target","onChange","useInput","query","setQuery","bindQuery","push","useHistory","className","to","onSubmit","e","preventDefault","trim","type","title","onClick","ActionType","initialState","data","error","loading","reducer","state","action","SUCCESS","FAILURE","COMPLETE","SyntaxError","useFetchAll","urls","useReducer","dispatch","useEffect","a","requests","map","url","fetch","Promise","allSettled","results","all","result","status","json","reason","console","NOW_PLAYING_MOVIES_URL","process","POPULAR_MOVIES_URL","TOP_RATED_MOVIES_URL","UPCOMING_MOVIES_URL","getMovieDetailUrl","id","getSimilarMoviesUrl","getMovieVideosUrl","getImageUrl","width","path","homeUrls","main","placeCenter","Main","center","children","restProps","spinner","Loading","article","MessageCard","text","Failure","name","message","wrapper","forwardRef","_","ref","img","Movie","movie","poster_path","src","alt","section","sliderContainer","slider","button","Movies","movies","sliderRef","useRef","indicatorRef","handleClick","direction","currentTarget","dataset","current","movement","clientWidth","parseInt","getComputedStyle","gap","scrollLeft","length","data-direction","onScroll","scrollWidth","indicator","scrollableArea","progress","Math","round","setProperty","backdrop_path","titles","Home","index","uuid","StarRating","Array","from","color","movieInfo","subInfo","Backdrop","vote_average","vote_count","release_date","genres","runtime","wrapperStyle","backgroundImage","join","Modal","isOpen","setIsOpen","handleKeydown","key","document","addEventListener","removeEventListener","querySelector","ReferenceError","createPortal","figure","iframe","Trailer","videoId","containerClassName","synopsis","DetailBody","overview","trailer","display","alignContent","Detail","useParams","getDetailUrls","grid","SearchResult","Search","res","useFetch","getSearchUrl","NotFound","footer","copyright","Footer","App","exact","render"],"mappings":"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","file":"static/js/main.4f530bcb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2xseJ\",\"container\":\"Header_container__2LJNz\",\"heading\":\"Header_heading__2fdda\",\"form\":\"Header_form__3iWB3\",\"input\":\"Header_input__1pUvx\",\"icon\":\"Header_icon__3BRb_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Movies_section__368NK\",\"header\":\"Movies_header__10CG5\",\"heading\":\"Movies_heading__3umzq\",\"sliderContainer\":\"Movies_sliderContainer__2gy5n\",\"slider\":\"Movies_slider__VUt4w\",\"button\":\"Movies_button__3rRio\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"DetailBody_wrapper__1nVnn\",\"container\":\"DetailBody_container__9kFcM\",\"figure\":\"DetailBody_figure__2q5W8\",\"img\":\"DetailBody_img__2gAnW\",\"synopsis\":\"DetailBody_synopsis__154G6\",\"button\":\"DetailBody_button__3zbzL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"DetailHead_wrapper__1FLQU\",\"container\":\"DetailHead_container__1-L1h\",\"heading\":\"DetailHead_heading__3RAtd\",\"movieInfo\":\"DetailHead_movieInfo__b1j2Y\",\"subInfo\":\"DetailHead_subInfo__yDP5M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Main_main__1NzAi\",\"container\":\"Main_container__1tCur\",\"placeCenter\":\"Main_placeCenter__Duf2p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"figure\":\"Trailer_figure__2LxrC\",\"container\":\"Trailer_container__2ZHcn\",\"iframe\":\"Trailer_iframe__1LOJN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"SearchResult_section__2VQvh\",\"heading\":\"SearchResult_heading__190dY\",\"grid\":\"SearchResult_grid__Y6zte\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__JQIrY\",\"container\":\"Footer_container__16FTr\",\"copyright\":\"Footer_copyright__2kG1j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"article\":\"MessageCard_article__1drxq\",\"heading\":\"MessageCard_heading__14Ly-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"StarRating_wrapper__2yQDq\",\"icon\":\"StarRating_icon__1kTqb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Loading_spinner__1fslG\",\"rotation\":\"Loading_rotation__39Ef4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Indicator_wrapper__3JDIu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"Movie_img__1GbsF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Modal_wrapper__3lFFV\"};","import { FormEvent } from \"react\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { FcSearch } from \"react-icons/fc\";\r\nimport { MdClose } from \"react-icons/md\";\r\nimport useInput from \"../hooks/useInput\";\r\nimport style from \"./Header.module.css\";\r\n\r\nconst { header, container, heading, form, input, icon } = style;\r\n\r\nexport default function Header() {\r\n  const [query, setQuery, bindQuery] = useInput();\r\n  const { push } = useHistory();\r\n\r\n  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (!query.trim()) {\r\n      return;\r\n    }\r\n    push(`/search/${query}`);\r\n    setQuery(\"\");\r\n  };\r\n\r\n  const handleClick = () => {\r\n    setQuery(\"\");\r\n  };\r\n\r\n  return (\r\n    <header className={header}>\r\n      <div className={container}>\r\n        <h1 className={heading}>\r\n          <Link to=\"/\">react movie</Link>\r\n        </h1>\r\n        <form className={form} onSubmit={handleSubmit}>\r\n          <span className={icon}>\r\n            <FcSearch />\r\n          </span>\r\n          <input className={input} type=\"search\" title=\"검색\" {...bindQuery} />\r\n          <span className={icon} onClick={handleClick}>\r\n            <MdClose />\r\n          </span>\r\n        </form>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","import { useState, Dispatch, SetStateAction, ChangeEvent } from \"react\";\r\n\r\ntype UseInput = [\r\n  string,\r\n  Dispatch<SetStateAction<string>>,\r\n  {\r\n    value: string;\r\n    onChange: ({ target: { value } }: ChangeEvent<HTMLInputElement>) => void;\r\n  }\r\n];\r\n\r\nexport default function useInput(initialValue = \"\") {\r\n  const [value, setValue] = useState(initialValue);\r\n\r\n  const handleChange = ({\r\n    target: { value },\r\n  }: ChangeEvent<HTMLInputElement>) => {\r\n    setValue(value);\r\n  };\r\n\r\n  const bindValue = { value, onChange: handleChange };\r\n\r\n  return [value, setValue, bindValue] as UseInput;\r\n}\r\n","import { useReducer, useEffect } from \"react\";\r\n\r\ninterface State {\r\n  data: any;\r\n  error: Error | null;\r\n  loading: boolean;\r\n}\r\n\r\nenum ActionType {\r\n  SUCCESS = \"SUCCESS\",\r\n  FAILURE = \"FAILURE\",\r\n  COMPLETE = \"COMPLETE\",\r\n}\r\n\r\ntype Action =\r\n  | { type: ActionType.SUCCESS; data: any }\r\n  | { type: ActionType.FAILURE; error: Error }\r\n  | { type: ActionType.COMPLETE };\r\n\r\nconst initialState = {\r\n  data: null,\r\n  error: null,\r\n  loading: true,\r\n};\r\n\r\nconst reducer = (state: State, action: Action) => {\r\n  switch (action.type) {\r\n    case ActionType.SUCCESS:\r\n      return { ...state, data: action.data };\r\n    case ActionType.FAILURE:\r\n      return { ...state, error: action.error };\r\n    case ActionType.COMPLETE:\r\n      return { ...state, loading: false };\r\n    default:\r\n      throw new SyntaxError(\"유효하지 않은 액션 타입입니다.\");\r\n  }\r\n};\r\n\r\nexport default function useFetchAll(urls: string[]) {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const requests = urls.map((url) => fetch(url));\r\n        const results = await Promise.allSettled(requests);\r\n        const data = await Promise.all(\r\n          results.map(async (result) => {\r\n            try {\r\n              const { status } = result;\r\n              if (status === \"fulfilled\") {\r\n                return await (result as PromiseFulfilledResult<Response>).value.json();\r\n              } else {\r\n                return (result as PromiseRejectedResult).reason;\r\n              }\r\n            } catch (error) {\r\n              throw error;\r\n            }\r\n          })\r\n        );\r\n        dispatch({ type: ActionType.SUCCESS, data });\r\n      } catch (error) {\r\n        console.error(error);\r\n        dispatch({ type: ActionType.FAILURE, error });\r\n      } finally {\r\n        dispatch({ type: ActionType.COMPLETE });\r\n      }\r\n    })();\r\n  }, [urls]);\r\n\r\n  return state;\r\n}\r\n","export const NOW_PLAYING_MOVIES_URL = `https://api.themoviedb.org/3/movie/now_playing?api_key=${process.env.REACT_APP_API_KEY}&language=ko-KR&region=KR`;\r\nexport const POPULAR_MOVIES_URL = `https://api.themoviedb.org/3/movie/popular?api_key=${process.env.REACT_APP_API_KEY}&language=ko-KR&region=KR`;\r\nexport const TOP_RATED_MOVIES_URL = `https://api.themoviedb.org/3/movie/top_rated?api_key=${process.env.REACT_APP_API_KEY}&language=ko-KR&region=KR`;\r\nexport const UPCOMING_MOVIES_URL = `https://api.themoviedb.org/3/movie/upcoming?api_key=${process.env.REACT_APP_API_KEY}&language=ko-KR&region=KR`;\r\n\r\nexport const getMovieDetailUrl = (id: string) =>\r\n  `https://api.themoviedb.org/3/movie/${id}?api_key=${process.env.REACT_APP_API_KEY}&language=ko-KR`;\r\nexport const getSimilarMoviesUrl = (id: string) =>\r\n  `https://api.themoviedb.org/3/movie/${id}/similar?api_key=${process.env.REACT_APP_API_KEY}&language=ko-KR`;\r\nexport const getMovieVideosUrl = (id: string) =>\r\n  `https://api.themoviedb.org/3/movie/${id}/videos?api_key=${process.env.REACT_APP_API_KEY}&language=ko-KR`;\r\nexport const getSearchUrl = (query: string) =>\r\n  `https://api.themoviedb.org/3/search/movie?api_key=${process.env.REACT_APP_API_KEY}&query=${query}&language=ko-KR`;\r\nexport const getImageUrl = (width: number, path: string) =>\r\n  `http://image.tmdb.org/t/p/w${width + path}`;\r\n\r\nexport const homeUrls = [\r\n  { title: \"영화관 상영작\", url: NOW_PLAYING_MOVIES_URL },\r\n  { title: \"인기 영화\", url: POPULAR_MOVIES_URL },\r\n  { title: \"TOP RANKED\", url: TOP_RATED_MOVIES_URL },\r\n  { title: \"개봉 예정작\", url: UPCOMING_MOVIES_URL },\r\n];\r\n\r\nexport const getDetailUrls = (id: string) => [\r\n  getMovieDetailUrl(id),\r\n  getSimilarMoviesUrl(id),\r\n  getMovieVideosUrl(id),\r\n];\r\n","import { HTMLAttributes } from \"react\";\r\nimport style from \"./Main.module.css\";\r\n\r\ninterface MainProps extends HTMLAttributes<HTMLDivElement> {\r\n  center?: boolean;\r\n}\r\n\r\nconst { main, container, placeCenter } = style;\r\n\r\nexport default function Main({ center, children, ...restProps }: MainProps) {\r\n  return (\r\n    <main className={main}>\r\n      <div className={`${container} ${center && placeCenter}`} {...restProps}>\r\n        {children}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","import Main from \"./Main\";\r\nimport style from \"./Loading.module.css\";\r\n\r\nconst { spinner } = style;\r\n\r\nexport default function Loading() {\r\n  return (\r\n    <Main center>\r\n      <div className={spinner}></div>\r\n    </Main>\r\n  );\r\n}\r\n","import style from \"./MessageCard.module.css\";\r\n\r\ninterface MessageCardProps {\r\n  title: string;\r\n  text: string;\r\n}\r\n\r\nconst { article, heading } = style;\r\n\r\nexport default function MessageCard({ title, text }: MessageCardProps) {\r\n  return (\r\n    <article className={article}>\r\n      <h1 className={heading}>{title}</h1>\r\n      <p>{text}</p>\r\n    </article>\r\n  );\r\n}\r\n","import Main from \"./Main\";\r\nimport MessageCard from \"./MessageCard\";\r\n\r\ninterface FailureProps {\r\n  error: {\r\n    name: string;\r\n    message: string;\r\n  };\r\n}\r\n\r\nexport default function Failure({ error: { name, message } }: FailureProps) {\r\n  return (\r\n    <Main center>\r\n      <MessageCard\r\n        title={`${name}: ${message}`}\r\n        text=\"잠시 후에 다시 시도해주세요.\"\r\n      />\r\n    </Main>\r\n  );\r\n}\r\n","import { forwardRef } from \"react\";\r\nimport style from \"./Indicator.module.css\";\r\n\r\nconst { wrapper } = style;\r\n\r\nexport default forwardRef<HTMLDivElement>(function Indicator(_, ref) {\r\n  return <div className={wrapper} ref={ref}></div>;\r\n});\r\n","import { Link } from \"react-router-dom\";\r\nimport { getImageUrl } from \"../urls\";\r\nimport { MovieData } from \"../types\";\r\nimport style from \"./Movie.module.css\";\r\n\r\ninterface MovieProps {\r\n  movie: MovieData;\r\n}\r\n\r\nconst { img } = style;\r\n\r\nexport default function Movie({\r\n  movie: { id, title, poster_path },\r\n}: MovieProps) {\r\n  const src = getImageUrl(500, poster_path);\r\n\r\n  return (\r\n    <figure>\r\n      <Link to={`/detail/${id}`}>\r\n        <img className={img} src={src} alt={title} />\r\n      </Link>\r\n    </figure>\r\n  );\r\n}\r\n","import { useRef, UIEvent, MouseEvent } from \"react\";\r\nimport { MdKeyboardArrowLeft, MdKeyboardArrowRight } from \"react-icons/md\";\r\nimport Indicator from \"../common/Indicator\";\r\nimport Movie from \"./Movie\";\r\nimport { MovieData } from \"../types\";\r\nimport style from \"./Movies.module.css\";\r\n\r\ninterface MoviesProps {\r\n  title: string;\r\n  movies: MovieData[];\r\n}\r\n\r\nconst { section, header, heading, sliderContainer, slider, button } = style;\r\n\r\nexport default function Movies({ title, movies }: MoviesProps) {\r\n  const sliderRef = useRef<HTMLDivElement>(null);\r\n  const indicatorRef = useRef<HTMLDivElement>(null);\r\n\r\n  const handleClick = ({\r\n    currentTarget: {\r\n      dataset: { direction },\r\n    },\r\n  }: MouseEvent<HTMLButtonElement, globalThis.MouseEvent>) => {\r\n    const slider = sliderRef.current;\r\n\r\n    if (slider) {\r\n      const { clientWidth } = slider;\r\n      const sliderGap = parseInt(getComputedStyle(slider).gap);\r\n      const movement = clientWidth + sliderGap;\r\n\r\n      switch (direction) {\r\n        case \"left\":\r\n          slider.scrollLeft -= movement;\r\n          break;\r\n        case \"right\":\r\n          slider.scrollLeft += movement;\r\n          break;\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleScroll = ({\r\n    currentTarget: { scrollLeft, scrollWidth, clientWidth },\r\n  }: UIEvent<HTMLDivElement, globalThis.UIEvent>) => {\r\n    const indicator = indicatorRef.current;\r\n    const scrollableArea = scrollWidth - clientWidth;\r\n    const progress = `${Math.round((scrollLeft / scrollableArea) * 100)}%`;\r\n\r\n    if (indicator) {\r\n      indicator.style.setProperty(\"--progress\", progress);\r\n    }\r\n  };\r\n\r\n  return !movies.length ? (\r\n    <p>{`${title} 정보가 없습니다. 😥`}</p>\r\n  ) : (\r\n    <section className={section}>\r\n      <header className={header}>\r\n        <h1 className={heading}>{title}</h1>\r\n        <Indicator ref={indicatorRef} />\r\n      </header>\r\n      <div className={sliderContainer}>\r\n        <button\r\n          className={button}\r\n          type=\"button\"\r\n          data-direction=\"left\"\r\n          onClick={handleClick}\r\n        >\r\n          <MdKeyboardArrowLeft />\r\n        </button>\r\n        <div className={slider} ref={sliderRef} onScroll={handleScroll}>\r\n          {movies.map((movie: MovieData) => {\r\n            const { id, poster_path, backdrop_path } = movie;\r\n            if (!poster_path || !backdrop_path) {\r\n              return null;\r\n            }\r\n            return <Movie key={id} movie={movie} />;\r\n          })}\r\n        </div>\r\n        <button\r\n          className={button}\r\n          type=\"button\"\r\n          data-direction=\"right\"\r\n          onClick={handleClick}\r\n        >\r\n          <MdKeyboardArrowRight />\r\n        </button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import { v4 as uuid } from \"uuid\";\r\nimport useFetchAll from \"../hooks/useFetchAll\";\r\nimport { homeUrls } from \"../urls\";\r\nimport Loading from \"../components/Loading\";\r\nimport Failure from \"../components/Failure\";\r\nimport Main from \"../components/Main\";\r\nimport Movies from \"../components/Movies\";\r\nimport { Data } from \"../types\";\r\n\r\nconst urls = homeUrls.map(({ url }) => url);\r\nconst titles = homeUrls.map(({ title }) => title);\r\n\r\nexport default function Home() {\r\n  const { loading, error, data } = useFetchAll(urls);\r\n\r\n  return loading ? (\r\n    <Loading />\r\n  ) : error ? (\r\n    <Failure error={error} />\r\n  ) : (\r\n    <Main>\r\n      {data.map(({ results: movies }: Data, index: number) => (\r\n        <Movies key={uuid()} title={titles[index]} movies={movies} />\r\n      ))}\r\n    </Main>\r\n  );\r\n}\r\n","import { v4 as uuid } from \"uuid\";\r\nimport { FaRegStar } from \"react-icons/fa\";\r\nimport style from \"./StarRating.module.css\";\r\n\r\nconst { wrapper, icon } = style;\r\n\r\ninterface StarRatingProps {\r\n  value: number;\r\n}\r\n\r\nexport default function StarRating({ value }: StarRatingProps) {\r\n  return (\r\n    <span className={wrapper}>\r\n      {Array.from(Array(5), (_, index) => {\r\n        const starCount = index + 1;\r\n\r\n        if (starCount <= value) {\r\n          return (\r\n            <span key={uuid()} className={icon}>\r\n              <FaRegStar color=\"orange\" />\r\n            </span>\r\n          );\r\n        }\r\n        return (\r\n          <span key={uuid()} className={icon}>\r\n            <FaRegStar />\r\n          </span>\r\n        );\r\n      })}\r\n    </span>\r\n  );\r\n}\r\n","import { FcCalendar, FcClock } from \"react-icons/fc\";\r\nimport { FaTags } from \"react-icons/fa\";\r\nimport { getImageUrl } from \"../urls\";\r\nimport StarRating from \"../common/StarRating\";\r\nimport { MovieData } from \"../types\";\r\nimport style from \"./DetailHead.module.css\";\r\n\r\ninterface BackdropProps {\r\n  movie: MovieData;\r\n}\r\n\r\nconst { wrapper, container, heading, movieInfo, subInfo } = style;\r\n\r\nexport default function Backdrop({\r\n  movie: {\r\n    backdrop_path,\r\n    title,\r\n    vote_average,\r\n    vote_count,\r\n    release_date,\r\n    genres,\r\n    runtime,\r\n  },\r\n}: BackdropProps) {\r\n  const wrapperStyle = {\r\n    backgroundImage: `url(${getImageUrl(1280, backdrop_path)})`,\r\n  };\r\n\r\n  return (\r\n    <div className={wrapper} style={wrapperStyle}>\r\n      <div className={container}>\r\n        <h1 className={heading}>{title}</h1>\r\n        <div className={movieInfo}>\r\n          <StarRating value={Math.round(vote_average / 2)} />\r\n          {`${vote_average} (${vote_count}명)`}\r\n        </div>\r\n        <div className={movieInfo}>\r\n          <span className={subInfo}>\r\n            <FcCalendar />\r\n            {release_date}\r\n          </span>\r\n          <span className={subInfo}>\r\n            <FaTags />\r\n            {genres.map(({ name }: { name: string }) => name).join(\", \")}\r\n          </span>\r\n          <span className={subInfo}>\r\n            <FcClock />\r\n            {`${runtime}분`}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, Dispatch, SetStateAction, MouseEvent } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { Props } from \"../types\";\r\nimport style from \"./Modal.module.css\";\r\n\r\ninterface ModalProps extends Props {\r\n  isOpen: boolean;\r\n  setIsOpen: Dispatch<SetStateAction<boolean>>;\r\n  target: string;\r\n}\r\n\r\nconst { wrapper } = style;\r\n\r\nexport default function Modal({\r\n  isOpen,\r\n  setIsOpen,\r\n  target,\r\n  children,\r\n}: ModalProps) {\r\n  const handleClick = ({\r\n    target,\r\n    currentTarget,\r\n  }: MouseEvent<HTMLDivElement, globalThis.MouseEvent>) => {\r\n    if (target === currentTarget) {\r\n      setIsOpen(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleKeydown = ({ key }: KeyboardEvent) => {\r\n      if (key === \"Escape\") {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", handleKeydown);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleKeydown);\r\n    };\r\n  }, [setIsOpen]);\r\n\r\n  const container = document.querySelector(target);\r\n\r\n  if (!container) {\r\n    throw new ReferenceError(\"모달 컨테이너로 사용할 타겟을 찾지 못했습니다.\");\r\n  }\r\n\r\n  return createPortal(\r\n    isOpen && (\r\n      <div className={wrapper} onClick={handleClick}>\r\n        {children}\r\n      </div>\r\n    ),\r\n    container\r\n  );\r\n}\r\n","import YouTube from \"react-youtube\";\r\nimport style from \"./Trailer.module.css\";\r\n\r\nconst { figure, container, iframe } = style;\r\n\r\ninterface TrailerProps {\r\n  videoId: string;\r\n}\r\n\r\nexport default function Trailer({ videoId }: TrailerProps) {\r\n  return (\r\n    <figure className={figure}>\r\n      <YouTube\r\n        containerClassName={container}\r\n        className={iframe}\r\n        videoId={videoId}\r\n      />\r\n    </figure>\r\n  );\r\n}\r\n","import { useReducer, useEffect } from \"react\";\r\n\r\ninterface State {\r\n  data: any;\r\n  error: Error | null;\r\n  loading: boolean;\r\n}\r\n\r\nenum ActionType {\r\n  SUCCESS = \"SUCCESS\",\r\n  FAILURE = \"FAILURE\",\r\n  COMPLETE = \"COMPLETE\",\r\n}\r\n\r\ntype Action =\r\n  | { type: ActionType.SUCCESS; data: any }\r\n  | { type: ActionType.FAILURE; error: Error }\r\n  | { type: ActionType.COMPLETE };\r\n\r\nconst initialState = {\r\n  data: null,\r\n  error: null,\r\n  loading: true,\r\n};\r\n\r\nconst reducer = (state: State, action: Action) => {\r\n  switch (action.type) {\r\n    case ActionType.SUCCESS:\r\n      return { ...state, data: action.data };\r\n    case ActionType.FAILURE:\r\n      return { ...state, error: action.error };\r\n    case ActionType.COMPLETE:\r\n      return { ...state, loading: false };\r\n    default:\r\n      throw new SyntaxError(\"유효하지 않은 액션 타입입니다.\");\r\n  }\r\n};\r\n\r\nexport default function useFetch(url: string) {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const res = await fetch(url);\r\n        const data = await res.json();\r\n        dispatch({ type: ActionType.SUCCESS, data });\r\n      } catch (error) {\r\n        dispatch({ type: ActionType.FAILURE, error });\r\n      } finally {\r\n        dispatch({ type: ActionType.COMPLETE });\r\n      }\r\n    })();\r\n  }, [url]);\r\n\r\n  return state;\r\n}\r\n","import { useState } from \"react\";\r\nimport { getImageUrl } from \"../urls\";\r\nimport Modal from \"../common/Modal\";\r\nimport Trailer from \"../components/Trailer\";\r\nimport Movies from \"../components/Movies\";\r\nimport { MovieData } from \"../types\";\r\nimport style from \"./DetailBody.module.css\";\r\n\r\ninterface DetailBodyProps {\r\n  movie: MovieData;\r\n  movies: MovieData[];\r\n  trailer: { key: string };\r\n}\r\n\r\nconst { wrapper, container, figure, img, synopsis, button } = style;\r\n\r\nexport default function DetailBody({\r\n  movie: { poster_path, title, overview },\r\n  movies,\r\n  trailer,\r\n}: DetailBodyProps) {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const handleClick = () => {\r\n    setIsOpen(true);\r\n  };\r\n\r\n  const src = getImageUrl(500, poster_path);\r\n\r\n  return (\r\n    <div className={wrapper}>\r\n      <div className={container}>\r\n        <figure className={figure}>\r\n          <img className={img} src={src} alt={title} />\r\n          <figcaption\r\n            style={{\r\n              display: \"grid\",\r\n              alignContent: \"space-between\",\r\n              gap: \"2rem\",\r\n            }}\r\n          >\r\n            <div style={{ display: \"grid\", gap: \"0.5rem\" }}>\r\n              <p className={synopsis}>synopsis</p>\r\n              {overview ? overview : \"데이터가 존재하지 않습니다. 😥\"}\r\n            </div>\r\n            {trailer && (\r\n              <>\r\n                <button className={button} type=\"button\" onClick={handleClick}>\r\n                  예고편 미리보기\r\n                </button>\r\n                <Modal\r\n                  isOpen={isOpen}\r\n                  setIsOpen={setIsOpen}\r\n                  target=\"#modal-root\"\r\n                >\r\n                  <Trailer videoId={trailer.key} />\r\n                </Modal>\r\n              </>\r\n            )}\r\n          </figcaption>\r\n        </figure>\r\n        <Movies title=\"비슷한 영화\" movies={movies} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useRef } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport useFetchAll from \"../hooks/useFetchAll\";\r\nimport { getDetailUrls } from \"../urls\";\r\nimport Loading from \"../components/Loading\";\r\nimport Failure from \"../components/Failure\";\r\nimport DetailHead from \"../components/DetailHead\";\r\nimport DetailBody from \"../components/DetailBody\";\r\n\r\nexport default function Detail() {\r\n  const { id } = useParams<{ id: string }>();\r\n  const urls = useRef(getDetailUrls(id));\r\n  const { loading, error, data } = useFetchAll(urls.current);\r\n\r\n  return loading ? (\r\n    <Loading />\r\n  ) : error ? (\r\n    <Failure error={error} />\r\n  ) : (\r\n    <main>\r\n      <DetailHead movie={data[0]} />\r\n      <DetailBody\r\n        movie={data[0]}\r\n        movies={data[1].results}\r\n        trailer={data[2].results[0]}\r\n      />\r\n    </main>\r\n  );\r\n}\r\n","import Movie from \"./Movie\";\r\nimport { MovieData } from \"../types\";\r\nimport style from \"./SearchResult.module.css\";\r\n\r\ninterface SearchResultProps {\r\n  title: string;\r\n  movies: MovieData[];\r\n}\r\n\r\nconst { section, heading, grid } = style;\r\n\r\nexport default function SearchResult({ title, movies }: SearchResultProps) {\r\n  return (\r\n    <section className={section}>\r\n      <h1 className={heading}>{title}</h1>\r\n      <div className={grid}>\r\n        {movies.map((movie: MovieData) => {\r\n          const { id, poster_path, backdrop_path } = movie;\r\n          if (!poster_path || !backdrop_path) {\r\n            return null;\r\n          }\r\n          return <Movie key={id} movie={movie} />;\r\n        })}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import { useParams } from \"react-router-dom\";\r\nimport useFetch from \"../hooks/useFetch\";\r\nimport { getSearchUrl } from \"../urls\";\r\nimport Loading from \"../components/Loading\";\r\nimport Failure from \"../components/Failure\";\r\nimport Main from \"../components/Main\";\r\nimport MessageCard from \"../components/MessageCard\";\r\nimport SearchResult from \"../components/SearchResult\";\r\n\r\nexport default function Search() {\r\n  const { query } = useParams<{ query: string }>();\r\n  const url = getSearchUrl(query);\r\n  const { loading, error, data } = useFetch(url);\r\n\r\n  return loading ? (\r\n    <Loading />\r\n  ) : error ? (\r\n    <Failure error={error} />\r\n  ) : !data.results.length ? (\r\n    <Main center>\r\n      <MessageCard title={`\"${query}\"`} text=\"검색 결과를 찾지 못했습니다.\" />\r\n    </Main>\r\n  ) : (\r\n    <Main>\r\n      <SearchResult title={`\"${query}\" 검색 결과`} movies={data.results} />\r\n    </Main>\r\n  );\r\n}\r\n","import Main from \"../components/Main\";\r\nimport MessageCard from \"../components/MessageCard\";\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <Main center>\r\n      <MessageCard\r\n        title=\"404 Error\"\r\n        text=\"요청하신 페이지를 찾지 못했습니다.\"\r\n      />\r\n    </Main>\r\n  );\r\n}\r\n","import style from \"./Footer.module.css\";\r\n\r\nconst { footer, container, copyright } = style;\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className={footer}>\r\n      <div className={container}>\r\n        <p className={copyright}>&copy; 2021. yeouya</p>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n","import { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { v4 as uuid } from \"uuid\";\nimport Header from \"./components/Header\";\nimport Home from \"./pages/Home\";\nimport Detail from \"./pages/Detail\";\nimport Search from \"./pages/Search\";\nimport NotFound from \"./pages/NotFound\";\nimport Footer from \"./components/Footer\";\n\nexport default function App() {\n  return (\n    <Router>\n      <Header />\n      <Switch>\n        <Route path=\"/\" exact>\n          <Home />\n        </Route>\n        <Route\n          path=\"/detail/:id\"\n          render={() => <Detail key={uuid()} />}\n          exact\n        />\n        <Route\n          path=\"/search/:query\"\n          render={() => <Search key={uuid()} />}\n          exact\n        />\n        <Route path=\"*\">\n          <NotFound />\n        </Route>\n      </Switch>\n      <Footer />\n    </Router>\n  );\n}\n","import { StrictMode } from \"react\";\nimport { render } from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nrender(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}