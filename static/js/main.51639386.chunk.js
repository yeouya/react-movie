(this["webpackJsonpreact-movie"]=this["webpackJsonpreact-movie"]||[]).push([[0],{14:function(e,t,r){e.exports={header:"Header_header__2xseJ",container:"Header_container__2LJNz",heading:"Header_heading__2fdda",form:"Header_form__3iWB3",input:"Header_input__1pUvx",icon:"Header_icon__3BRb_"}},15:function(e,t,r){e.exports={section:"Movies_section__368NK",header:"Movies_header__10CG5",heading:"Movies_heading__3umzq",sliderContainer:"Movies_sliderContainer__2gy5n",slider:"Movies_slider__VUt4w",button:"Movies_button__3rRio"}},16:function(e,t,r){e.exports={wrapper:"DetailBody_wrapper__1nVnn",container:"DetailBody_container__9kFcM",figure:"DetailBody_figure__2q5W8",img:"DetailBody_img__2gAnW",synopsis:"DetailBody_synopsis__154G6",button:"DetailBody_button__3zbzL"}},17:function(e,t,r){e.exports={wrapper:"DetailHead_wrapper__1FLQU",container:"DetailHead_container__1-L1h",heading:"DetailHead_heading__3RAtd",movieInfo:"DetailHead_movieInfo__b1j2Y",subInfo:"DetailHead_subInfo__yDP5M"}},23:function(e,t,r){e.exports={main:"Main_main__1NzAi",container:"Main_container__1tCur",placeCenter:"Main_placeCenter__Duf2p"}},24:function(e,t,r){e.exports={figure:"Trailer_figure__2LxrC",container:"Trailer_container__2ZHcn",iframe:"Trailer_iframe__1LOJN"}},25:function(e,t,r){e.exports={section:"SearchResult_section__2VQvh",heading:"SearchResult_heading__190dY",grid:"SearchResult_grid__Y6zte"}},26:function(e,t,r){e.exports={footer:"Footer_footer__JQIrY",container:"Footer_container__16FTr",copyright:"Footer_copyright__2kG1j"}},31:function(e,t,r){e.exports={article:"MessageCard_article__1drxq",heading:"MessageCard_heading__14Ly-"}},32:function(e,t,r){e.exports={wrapper:"StarRating_wrapper__2yQDq",icon:"StarRating_icon__1kTqb"}},36:function(e,t,r){e.exports={spinner:"Loading_spinner__1fslG",rotation:"Loading_rotation__39Ef4"}},37:function(e,t,r){e.exports={wrapper:"Indicator_wrapper__3JDIu"}},38:function(e,t,r){e.exports={img:"Movie_img__1GbsF"}},39:function(e,t,r){e.exports={wrapper:"Modal_wrapper__3lFFV"}},67:function(e,t,r){},68:function(e,t,r){"use strict";r.r(t);var a,c=r(1),n=r(2),i=r(22),s=r(11),o=r(3),l=r(69),u=r(12),j=r.n(u),d=r(18),b=r(10),p=r(5);!function(e){e.SUCCESS="SUCCESS",e.FAILURE="FAILURE",e.COMPLETE="COMPLETE"}(a||(a={}));var h={data:null,error:null,loading:!0},f=function(e,t){switch(t.type){case a.SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{data:t.data});case a.FAILURE:return Object(p.a)(Object(p.a)({},e),{},{error:t.error});case a.COMPLETE:return Object(p.a)(Object(p.a)({},e),{},{loading:!1});default:throw new SyntaxError("\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc561\uc158 \ud0c0\uc785\uc785\ub2c8\ub2e4.")}};function O(e){var t=Object(n.useReducer)(f,h),r=Object(b.a)(t,2),c=r[0],i=r[1];return Object(n.useEffect)((function(){Object(d.a)(j.a.mark((function t(){var r,c,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.map((function(e){return fetch(e)})),t.next=4,Promise.allSettled(r);case 4:return c=t.sent,t.next=7,Promise.all(c.map(function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"fulfilled"!==t.status){e.next=8;break}return e.next=5,t.value.json();case 5:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",t.reason);case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()));case 7:n=t.sent,i({type:a.SUCCESS,data:n}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0),i({type:a.FAILURE,error:t.t0});case 15:return t.prev=15,i({type:a.COMPLETE}),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[0,11,15,18]])})))()}),[e]),c}var _="https://api.themoviedb.org/3/movie/now_playing?api_key=".concat("d2f068a2804bac3ac3fc858cc297ce01","&language=ko-KR&region=KR"),x="https://api.themoviedb.org/3/movie/popular?api_key=".concat("d2f068a2804bac3ac3fc858cc297ce01","&language=ko-KR&region=KR"),v="https://api.themoviedb.org/3/movie/top_rated?api_key=".concat("d2f068a2804bac3ac3fc858cc297ce01","&language=ko-KR&region=KR"),m="https://api.themoviedb.org/3/movie/upcoming?api_key=".concat("d2f068a2804bac3ac3fc858cc297ce01","&language=ko-KR&region=KR"),g=function(e){return"https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat("d2f068a2804bac3ac3fc858cc297ce01","&language=ko-KR")},y=function(e){return"https://api.themoviedb.org/3/movie/".concat(e,"/similar?api_key=").concat("d2f068a2804bac3ac3fc858cc297ce01","&language=ko-KR")},N=function(e){return"https://api.themoviedb.org/3/movie/".concat(e,"/videos?api_key=").concat("d2f068a2804bac3ac3fc858cc297ce01","&language=ko-KR")},C=function(e,t){return"https://image.tmdb.org/t/p/w".concat(e+t)},E=[{title:"\uc601\ud654\uad00 \uc0c1\uc601\uc791",url:_},{title:"\uc778\uae30 \uc601\ud654",url:x},{title:"TOP RANKED",url:v},{title:"\uac1c\ubd09 \uc608\uc815\uc791",url:m}],w=E.map((function(e){return e.url})),k=Object(n.createContext)(null);function S(e){var t=e.children,r=O(w);return Object(c.jsx)(k.Provider,{value:r,children:t})}function R(){var e=Object(o.g)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var L=r(19),M=r(20);var I=r(14),U=r.n(I),F=U.a.header,T=U.a.container,D=U.a.heading,P=U.a.form,A=U.a.input,K=U.a.icon;function H(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(n.useState)(e),r=Object(b.a)(t,2),a=r[0],c=r[1],i=function(e){var t=e.target.value;c(t)};return[a,c,{value:a,onChange:i}]}(),t=Object(b.a)(e,3),r=t[0],a=t[1],i=t[2],l=Object(o.f)().push;return Object(c.jsx)("header",{className:F,children:Object(c.jsxs)("div",{className:T,children:[Object(c.jsx)("h1",{className:D,children:Object(c.jsx)(s.b,{to:"/",children:"react movie"})}),Object(c.jsxs)("form",{className:P,onSubmit:function(e){e.preventDefault(),r.trim()&&(l("/search/".concat(r)),a(""))},children:[Object(c.jsx)("span",{className:K,children:Object(c.jsx)(L.c,{})}),Object(c.jsx)("input",Object(p.a)({className:A,type:"search",title:"\uac80\uc0c9"},i)),Object(c.jsx)("span",{className:K,onClick:function(){a("")},children:Object(c.jsx)(M.a,{})})]})]})})}var q=r(43),B=r(23),J=r.n(B),z=J.a.main,W=J.a.container,G=J.a.placeCenter;function Q(e){var t=e.center,r=e.children,a=Object(q.a)(e,["center","children"]);return Object(c.jsx)("main",{className:z,children:Object(c.jsx)("div",Object(p.a)(Object(p.a)({className:"".concat(W," ").concat(t&&G)},a),{},{children:r}))})}var V=r(36),Y=r.n(V).a.spinner;function Z(){return Object(c.jsx)(Q,{center:!0,children:Object(c.jsx)("div",{className:Y})})}var X=r(31),$=r.n(X),ee=$.a.article,te=$.a.heading;function re(e){var t=e.title,r=e.text;return Object(c.jsxs)("article",{className:ee,children:[Object(c.jsx)("h1",{className:te,children:t}),Object(c.jsx)("p",{children:r})]})}function ae(e){var t=e.error,r=t.name,a=t.message;return Object(c.jsx)(Q,{center:!0,children:Object(c.jsx)(re,{title:"".concat(r,": ").concat(a),text:"\uc7a0\uc2dc \ud6c4\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."})})}var ce=r(37),ne=r.n(ce).a.wrapper,ie=Object(n.forwardRef)((function(e,t){return Object(c.jsx)("div",{className:ne,ref:t})})),se=r(38),oe=r.n(se).a.img;function le(e){var t=e.movie,r=t.id,a=t.title,n=t.poster_path,i=C(500,n);return Object(c.jsx)("figure",{children:Object(c.jsx)(s.b,{to:"/detail/".concat(r),children:Object(c.jsx)("img",{className:oe,src:i,alt:a})})})}var ue=r(15),je=r.n(ue),de=je.a.section,be=je.a.header,pe=je.a.heading,he=je.a.sliderContainer,fe=je.a.slider,Oe=je.a.button;function _e(e){var t=e.title,r=e.movies,a=Object(n.useRef)(null),i=Object(n.useRef)(null),s=function(e){var t=e.currentTarget.dataset.direction,r=a.current;if(r){var c=r.clientWidth+parseInt(getComputedStyle(r).gap);switch(t){case"left":r.scrollLeft-=c;break;case"right":r.scrollLeft+=c}}};return r.length?Object(c.jsxs)("section",{className:de,children:[Object(c.jsxs)("header",{className:be,children:[Object(c.jsx)("h1",{className:pe,children:t}),Object(c.jsx)(ie,{ref:i})]}),Object(c.jsxs)("div",{className:he,children:[Object(c.jsx)("button",{className:Oe,type:"button","data-direction":"left",onClick:s,children:Object(c.jsx)(M.b,{})}),Object(c.jsx)("div",{className:fe,ref:a,onScroll:function(e){var t=e.currentTarget,r=t.scrollLeft,a=t.scrollWidth,c=t.clientWidth,n=i.current,s=a-c,o="".concat(Math.round(r/s*100),"%");n&&n.style.setProperty("--progress",o)},children:r.map((function(e){var t=e.id,r=e.poster_path,a=e.backdrop_path;return r&&a?Object(c.jsx)(le,{movie:e},t):null}))}),Object(c.jsx)("button",{className:Oe,type:"button","data-direction":"right",onClick:s,children:Object(c.jsx)(M.c,{})})]})]}):Object(c.jsx)("p",{children:"".concat(t," \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \ud83d\ude25")})}var xe=E.map((function(e){return e.title}));function ve(){var e=function(){var e=Object(n.useContext)(k);if(!e)throw new ReferenceError("HomeProvider \ucef4\ud3ec\ub10c\ud2b8\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");return e}(),t=e.loading,r=e.error,a=e.data;return t?Object(c.jsx)(Z,{}):r?Object(c.jsx)(ae,{error:r}):Object(c.jsx)(Q,{children:a.map((function(e,t){var r=e.results;return Object(c.jsx)(_e,{title:xe[t],movies:r},Object(l.a)())}))})}var me=r(21),ge=r(32),ye=r.n(ge),Ne=ye.a.wrapper,Ce=ye.a.icon;function Ee(e){var t=e.value;return Object(c.jsx)("span",{className:Ne,children:Array.from(Array(5),(function(e,r){return r+1<=t?Object(c.jsx)("span",{className:Ce,children:Object(c.jsx)(me.a,{color:"orange"})},Object(l.a)()):Object(c.jsx)("span",{className:Ce,children:Object(c.jsx)(me.a,{})},Object(l.a)())}))})}var we=r(17),ke=r.n(we),Se=ke.a.wrapper,Re=ke.a.container,Le=ke.a.heading,Me=ke.a.movieInfo,Ie=ke.a.subInfo;function Ue(e){var t=e.movie,r=t.backdrop_path,a=t.title,n=t.vote_average,i=t.vote_count,s=t.release_date,o=t.genres,l=t.runtime,u={backgroundImage:"url(".concat(C(1280,r),")")};return Object(c.jsx)("div",{className:Se,style:u,children:Object(c.jsxs)("div",{className:Re,children:[Object(c.jsx)("h1",{className:Le,children:a}),Object(c.jsxs)("div",{className:Me,children:[Object(c.jsx)(Ee,{value:Math.round(n/2)}),"".concat(n," (").concat(i,"\uba85)")]}),Object(c.jsxs)("div",{className:Me,children:[Object(c.jsxs)("span",{className:Ie,children:[Object(c.jsx)(L.a,{}),s]}),Object(c.jsxs)("span",{className:Ie,children:[Object(c.jsx)(me.b,{}),o.map((function(e){return e.name})).join(", ")]}),Object(c.jsxs)("span",{className:Ie,children:[Object(c.jsx)(L.b,{}),"".concat(l,"\ubd84")]})]})]})})}var Fe=r(39),Te=r.n(Fe).a.wrapper;function De(e){var t=e.isOpen,r=e.setIsOpen,a=e.target,s=e.children;Object(n.useEffect)((function(){var e=function(e){"Escape"===e.key&&r(!1)};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[r]);var o=document.querySelector(a);if(!o)throw new ReferenceError("\ubaa8\ub2ec \ucee8\ud14c\uc774\ub108\ub85c \uc0ac\uc6a9\ud560 \ud0c0\uac9f\uc744 \ucc3e\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.");return Object(i.createPortal)(t&&Object(c.jsx)("div",{className:Te,onClick:function(e){e.target===e.currentTarget&&r(!1)},children:s}),o)}var Pe=r(40),Ae=r(24),Ke=r.n(Ae),He=Ke.a.figure,qe=Ke.a.container,Be=Ke.a.iframe;function Je(e){var t=e.videoId;return Object(c.jsx)("figure",{className:He,children:Object(c.jsx)(Pe.a,{containerClassName:qe,className:Be,videoId:t})})}var ze,We=r(16),Ge=r.n(We),Qe=Ge.a.wrapper,Ve=Ge.a.container,Ye=Ge.a.figure,Ze=Ge.a.img,Xe=Ge.a.synopsis,$e=Ge.a.button;function et(e){var t=e.movie,r=t.poster_path,a=t.title,i=t.overview,s=e.movies,o=e.trailer,l=Object(n.useState)(!1),u=Object(b.a)(l,2),j=u[0],d=u[1],p=C(500,r);return Object(c.jsx)("div",{className:Qe,children:Object(c.jsxs)("div",{className:Ve,children:[Object(c.jsxs)("figure",{className:Ye,children:[Object(c.jsx)("img",{className:Ze,src:p,alt:a}),Object(c.jsxs)("figcaption",{style:{display:"grid",alignContent:"space-between",gap:"2rem"},children:[Object(c.jsxs)("div",{style:{display:"grid",gap:"0.5rem"},children:[Object(c.jsx)("p",{className:Xe,children:"synopsis"}),i||"\ub370\uc774\ud130\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ud83d\ude25"]}),o&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{className:$e,type:"button",onClick:function(){d(!0)},children:"\uc608\uace0\ud3b8 \ubbf8\ub9ac\ubcf4\uae30"}),Object(c.jsx)(De,{isOpen:j,setIsOpen:d,target:"#modal-root",children:Object(c.jsx)(Je,{videoId:o.key})})]})]})]}),Object(c.jsx)(_e,{title:"\ube44\uc2b7\ud55c \uc601\ud654",movies:s})]})})}function tt(){var e=Object(o.h)().id,t=O(Object(n.useRef)(function(e){return[g(e),y(e),N(e)]}(e)).current),r=t.loading,a=t.error,i=t.data;return r?Object(c.jsx)(Z,{}):a?Object(c.jsx)(ae,{error:a}):Object(c.jsxs)("main",{children:[Object(c.jsx)(Ue,{movie:i[0]}),Object(c.jsx)(et,{movie:i[0],movies:i[1].results,trailer:i[2].results[0]})]})}!function(e){e.SUCCESS="SUCCESS",e.FAILURE="FAILURE",e.COMPLETE="COMPLETE"}(ze||(ze={}));var rt={data:null,error:null,loading:!0},at=function(e,t){switch(t.type){case ze.SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{data:t.data});case ze.FAILURE:return Object(p.a)(Object(p.a)({},e),{},{error:t.error});case ze.COMPLETE:return Object(p.a)(Object(p.a)({},e),{},{loading:!1});default:throw new SyntaxError("\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc561\uc158 \ud0c0\uc785\uc785\ub2c8\ub2e4.")}};var ct=r(25),nt=r.n(ct),it=nt.a.section,st=nt.a.heading,ot=nt.a.grid;function lt(e){var t=e.title,r=e.movies;return Object(c.jsxs)("section",{className:it,children:[Object(c.jsx)("h1",{className:st,children:t}),Object(c.jsx)("div",{className:ot,children:r.map((function(e){var t=e.id,r=e.poster_path,a=e.backdrop_path;return r&&a?Object(c.jsx)(le,{movie:e},t):null}))})]})}function ut(){var e=Object(o.h)().query,t=function(e){var t=Object(n.useReducer)(at,rt),r=Object(b.a)(t,2),a=r[0],c=r[1];return Object(n.useEffect)((function(){Object(d.a)(j.a.mark((function t(){var r,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:return r=t.sent,t.next=6,r.json();case 6:a=t.sent,c({type:ze.SUCCESS,data:a}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:ze.FAILURE,error:t.t0});case 13:return t.prev=13,c({type:ze.COMPLETE}),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})))()}),[e]),a}(function(e){return"https://api.themoviedb.org/3/search/movie?api_key=".concat("d2f068a2804bac3ac3fc858cc297ce01","&query=").concat(e,"&language=ko-KR")}(e)),r=t.loading,a=t.error,i=t.data;return r?Object(c.jsx)(Z,{}):a?Object(c.jsx)(ae,{error:a}):i.results.length?Object(c.jsx)(Q,{children:Object(c.jsx)(lt,{title:'"'.concat(e,'" \uac80\uc0c9 \uacb0\uacfc'),movies:i.results})}):Object(c.jsx)(Q,{center:!0,children:Object(c.jsx)(re,{title:'"'.concat(e,'"'),text:"\uac80\uc0c9 \uacb0\uacfc\ub97c \ucc3e\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."})})}function jt(){return Object(c.jsx)(Q,{center:!0,children:Object(c.jsx)(re,{title:"404 Error",text:"\uc694\uccad\ud558\uc2e0 \ud398\uc774\uc9c0\ub97c \ucc3e\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."})})}var dt=r(26),bt=r.n(dt),pt=bt.a.footer,ht=bt.a.container,ft=bt.a.copyright;function Ot(){return Object(c.jsx)("footer",{className:pt,children:Object(c.jsx)("div",{className:ht,children:Object(c.jsx)("p",{className:ft,children:"\xa9 2021. yeouya"})})})}function _t(){return Object(c.jsx)(S,{children:Object(c.jsxs)(s.a,{children:[Object(c.jsx)(R,{}),Object(c.jsx)(H,{}),Object(c.jsxs)(o.c,{children:[Object(c.jsx)(o.a,{path:"/",exact:!0,children:Object(c.jsx)(ve,{})}),Object(c.jsx)(o.a,{path:"/detail/:id",render:function(){return Object(c.jsx)(tt,{},Object(l.a)())},exact:!0}),Object(c.jsx)(o.a,{path:"/search/:query",render:function(){return Object(c.jsx)(ut,{},Object(l.a)())},exact:!0}),Object(c.jsx)(o.a,{path:"*",children:Object(c.jsx)(jt,{})})]}),Object(c.jsx)(Ot,{})]})})}r(67);Object(i.render)(Object(c.jsx)(n.StrictMode,{children:Object(c.jsx)(_t,{})}),document.querySelector("#root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.51639386.chunk.js.map