(this["webpackJsonpreact-movie"]=this["webpackJsonpreact-movie"]||[]).push([[0],{14:function(e,t,r){e.exports={header:"Header_header__2xseJ",container:"Header_container__2LJNz",heading:"Header_heading__2fdda",form:"Header_form__3iWB3",input:"Header_input__1pUvx",icon:"Header_icon__3BRb_"}},15:function(e,t,r){e.exports={section:"Movies_section__368NK",header:"Movies_header__10CG5",heading:"Movies_heading__3umzq",sliderContainer:"Movies_sliderContainer__2gy5n",slider:"Movies_slider__VUt4w",button:"Movies_button__3rRio"}},16:function(e,t,r){e.exports={wrapper:"DetailBody_wrapper__1nVnn",container:"DetailBody_container__9kFcM",figure:"DetailBody_figure__2q5W8",img:"DetailBody_img__2gAnW",synopsis:"DetailBody_synopsis__154G6",button:"DetailBody_button__3zbzL"}},17:function(e,t,r){e.exports={wrapper:"DetailHead_wrapper__1FLQU",container:"DetailHead_container__1-L1h",heading:"DetailHead_heading__3RAtd",movieInfo:"DetailHead_movieInfo__b1j2Y",subInfo:"DetailHead_subInfo__yDP5M"}},23:function(e,t,r){e.exports={main:"Main_main__1NzAi",container:"Main_container__1tCur",placeCenter:"Main_placeCenter__Duf2p"}},24:function(e,t,r){e.exports={figure:"Trailer_figure__2LxrC",container:"Trailer_container__2ZHcn",iframe:"Trailer_iframe__1LOJN"}},25:function(e,t,r){e.exports={section:"SearchResult_section__2VQvh",heading:"SearchResult_heading__190dY",grid:"SearchResult_grid__Y6zte"}},26:function(e,t,r){e.exports={footer:"Footer_footer__JQIrY",container:"Footer_container__16FTr",copyright:"Footer_copyright__2kG1j"}},31:function(e,t,r){e.exports={article:"MessageCard_article__1drxq",heading:"MessageCard_heading__14Ly-"}},32:function(e,t,r){e.exports={wrapper:"StarRating_wrapper__2yQDq",icon:"StarRating_icon__1kTqb"}},36:function(e,t,r){e.exports={spinner:"Loading_spinner__1fslG",rotation:"Loading_rotation__39Ef4"}},37:function(e,t,r){e.exports={wrapper:"Indicator_wrapper__3JDIu"}},38:function(e,t,r){e.exports={img:"Movie_img__1GbsF"}},39:function(e,t,r){e.exports={wrapper:"Modal_wrapper__3lFFV"}},67:function(e,t,r){},68:function(e,t,r){"use strict";r.r(t);var a,c=r(1),n=r(2),i=r(22),s=r(11),o=r(3),l=r(69),u=r(12),j=r.n(u),d=r(18),b=r(10),p=r(5);!function(e){e.SUCCESS="SUCCESS",e.FAILURE="FAILURE",e.COMPLETE="COMPLETE"}(a||(a={}));var h={data:null,error:null,loading:!0},O=function(e,t){switch(t.type){case a.SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{data:t.data});case a.FAILURE:return Object(p.a)(Object(p.a)({},e),{},{error:t.error});case a.COMPLETE:return Object(p.a)(Object(p.a)({},e),{},{loading:!1});default:throw new SyntaxError("\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc561\uc158 \ud0c0\uc785\uc785\ub2c8\ub2e4.")}};function f(e){var t=Object(n.useReducer)(O,h),r=Object(b.a)(t,2),c=r[0],i=r[1];return Object(n.useEffect)((function(){Object(d.a)(j.a.mark((function t(){var r,c,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.map((function(e){return fetch(e)})),t.next=4,Promise.allSettled(r);case 4:return c=t.sent,t.next=7,Promise.all(c.map(function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"fulfilled"!==t.status){e.next=8;break}return e.next=5,t.value.json();case 5:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",t.reason);case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()));case 7:n=t.sent,i({type:a.SUCCESS,data:n}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0),i({type:a.FAILURE,error:t.t0});case 15:return t.prev=15,i({type:a.COMPLETE}),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[0,11,15,18]])})))()}),[e]),c}var _="https://api.themoviedb.org/3/movie/now_playing?api_key=".concat("d2f068a2804bac3ac3fc858cc297ce01","&language=ko-KR&region=KR"),x="https://api.themoviedb.org/3/movie/popular?api_key=".concat("d2f068a2804bac3ac3fc858cc297ce01","&language=ko-KR&region=KR"),v="https://api.themoviedb.org/3/movie/top_rated?api_key=".concat("d2f068a2804bac3ac3fc858cc297ce01","&language=ko-KR&region=KR"),m="https://api.themoviedb.org/3/movie/upcoming?api_key=".concat("d2f068a2804bac3ac3fc858cc297ce01","&language=ko-KR&region=KR"),g=function(e){return"https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat("d2f068a2804bac3ac3fc858cc297ce01","&language=ko-KR")},y=function(e){return"https://api.themoviedb.org/3/movie/".concat(e,"/similar?api_key=").concat("d2f068a2804bac3ac3fc858cc297ce01","&language=ko-KR")},N=function(e){return"https://api.themoviedb.org/3/movie/".concat(e,"/videos?api_key=").concat("d2f068a2804bac3ac3fc858cc297ce01","&language=ko-KR")},C=function(e,t){return"https://image.tmdb.org/t/p/w".concat(e+t)},E=[{title:"\uc601\ud654\uad00 \uc0c1\uc601\uc791",url:_},{title:"\uc778\uae30 \uc601\ud654",url:x},{title:"TOP RANKED",url:v},{title:"\uac1c\ubd09 \uc608\uc815\uc791",url:m}],w=E.map((function(e){return e.url})),k=Object(n.createContext)(null);function S(e){var t=e.children,r=f(w);return Object(c.jsx)(k.Provider,{value:r,children:t})}var R=r(19),L=r(20);var M=r(14),I=r.n(M),U=I.a.header,F=I.a.container,D=I.a.heading,T=I.a.form,P=I.a.input,A=I.a.icon;function K(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(n.useState)(e),r=Object(b.a)(t,2),a=r[0],c=r[1],i=function(e){var t=e.target.value;c(t)};return[a,c,{value:a,onChange:i}]}(),t=Object(b.a)(e,3),r=t[0],a=t[1],i=t[2],l=Object(o.f)().push;return Object(c.jsx)("header",{className:U,children:Object(c.jsxs)("div",{className:F,children:[Object(c.jsx)("h1",{className:D,children:Object(c.jsx)(s.b,{to:"/",children:"react movie"})}),Object(c.jsxs)("form",{className:T,onSubmit:function(e){e.preventDefault(),r.trim()&&(l("/search/".concat(r)),a(""))},children:[Object(c.jsx)("span",{className:A,children:Object(c.jsx)(R.c,{})}),Object(c.jsx)("input",Object(p.a)({className:P,type:"search",title:"\uac80\uc0c9"},i)),Object(c.jsx)("span",{className:A,onClick:function(){a("")},children:Object(c.jsx)(L.a,{})})]})]})})}var H=r(43),q=r(23),B=r.n(q),J=B.a.main,z=B.a.container,W=B.a.placeCenter;function G(e){var t=e.center,r=e.children,a=Object(H.a)(e,["center","children"]);return Object(c.jsx)("main",{className:J,children:Object(c.jsx)("div",Object(p.a)(Object(p.a)({className:"".concat(z," ").concat(t&&W)},a),{},{children:r}))})}var Q=r(36),V=r.n(Q).a.spinner;function Y(){return Object(c.jsx)(G,{center:!0,children:Object(c.jsx)("div",{className:V})})}var Z=r(31),X=r.n(Z),$=X.a.article,ee=X.a.heading;function te(e){var t=e.title,r=e.text;return Object(c.jsxs)("article",{className:$,children:[Object(c.jsx)("h1",{className:ee,children:t}),Object(c.jsx)("p",{children:r})]})}function re(e){var t=e.error,r=t.name,a=t.message;return Object(c.jsx)(G,{center:!0,children:Object(c.jsx)(te,{title:"".concat(r,": ").concat(a),text:"\uc7a0\uc2dc \ud6c4\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."})})}var ae=r(37),ce=r.n(ae).a.wrapper,ne=Object(n.forwardRef)((function(e,t){return Object(c.jsx)("div",{className:ce,ref:t})})),ie=r(38),se=r.n(ie).a.img;function oe(e){var t=e.movie,r=t.id,a=t.title,n=t.poster_path,i=C(500,n);return Object(c.jsx)("figure",{children:Object(c.jsx)(s.b,{to:"/detail/".concat(r),children:Object(c.jsx)("img",{className:se,src:i,alt:a})})})}var le=r(15),ue=r.n(le),je=ue.a.section,de=ue.a.header,be=ue.a.heading,pe=ue.a.sliderContainer,he=ue.a.slider,Oe=ue.a.button;function fe(e){var t=e.title,r=e.movies,a=Object(n.useRef)(null),i=Object(n.useRef)(null),s=function(e){var t=e.currentTarget.dataset.direction,r=a.current;if(r){var c=r.clientWidth+parseInt(getComputedStyle(r).gap);switch(t){case"left":r.scrollLeft-=c;break;case"right":r.scrollLeft+=c}}};return r.length?Object(c.jsxs)("section",{className:je,children:[Object(c.jsxs)("header",{className:de,children:[Object(c.jsx)("h1",{className:be,children:t}),Object(c.jsx)(ne,{ref:i})]}),Object(c.jsxs)("div",{className:pe,children:[Object(c.jsx)("button",{className:Oe,type:"button","data-direction":"left",onClick:s,children:Object(c.jsx)(L.b,{})}),Object(c.jsx)("div",{className:he,ref:a,onScroll:function(e){var t=e.currentTarget,r=t.scrollLeft,a=t.scrollWidth,c=t.clientWidth,n=i.current,s=a-c,o="".concat(Math.round(r/s*100),"%");n&&n.style.setProperty("--progress",o)},children:r.map((function(e){var t=e.id,r=e.poster_path,a=e.backdrop_path;return r&&a?Object(c.jsx)(oe,{movie:e},t):null}))}),Object(c.jsx)("button",{className:Oe,type:"button","data-direction":"right",onClick:s,children:Object(c.jsx)(L.c,{})})]})]}):Object(c.jsx)("p",{children:"".concat(t," \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \ud83d\ude25")})}var _e=E.map((function(e){return e.title}));function xe(){var e=function(){var e=Object(n.useContext)(k);if(!e)throw new ReferenceError("HomeProvider \ucef4\ud3ec\ub10c\ud2b8\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");return e}(),t=e.loading,r=e.error,a=e.data;return t?Object(c.jsx)(Y,{}):r?Object(c.jsx)(re,{error:r}):Object(c.jsx)(G,{children:a.map((function(e,t){var r=e.results;return Object(c.jsx)(fe,{title:_e[t],movies:r},Object(l.a)())}))})}var ve=r(21),me=r(32),ge=r.n(me),ye=ge.a.wrapper,Ne=ge.a.icon;function Ce(e){var t=e.value;return Object(c.jsx)("span",{className:ye,children:Array.from(Array(5),(function(e,r){return r+1<=t?Object(c.jsx)("span",{className:Ne,children:Object(c.jsx)(ve.a,{color:"orange"})},Object(l.a)()):Object(c.jsx)("span",{className:Ne,children:Object(c.jsx)(ve.a,{})},Object(l.a)())}))})}var Ee=r(17),we=r.n(Ee),ke=we.a.wrapper,Se=we.a.container,Re=we.a.heading,Le=we.a.movieInfo,Me=we.a.subInfo;function Ie(e){var t=e.movie,r=t.backdrop_path,a=t.title,n=t.vote_average,i=t.vote_count,s=t.release_date,o=t.genres,l=t.runtime,u={backgroundImage:"url(".concat(C(1280,r),")")};return Object(c.jsx)("div",{className:ke,style:u,children:Object(c.jsxs)("div",{className:Se,children:[Object(c.jsx)("h1",{className:Re,children:a}),Object(c.jsxs)("div",{className:Le,children:[Object(c.jsx)(Ce,{value:Math.round(n/2)}),"".concat(n," (").concat(i,"\uba85)")]}),Object(c.jsxs)("div",{className:Le,children:[Object(c.jsxs)("span",{className:Me,children:[Object(c.jsx)(R.a,{}),s]}),Object(c.jsxs)("span",{className:Me,children:[Object(c.jsx)(ve.b,{}),o.map((function(e){return e.name})).join(", ")]}),Object(c.jsxs)("span",{className:Me,children:[Object(c.jsx)(R.b,{}),"".concat(l,"\ubd84")]})]})]})})}var Ue=r(39),Fe=r.n(Ue).a.wrapper;function De(e){var t=e.isOpen,r=e.setIsOpen,a=e.target,s=e.children;Object(n.useEffect)((function(){var e=function(e){"Escape"===e.key&&r(!1)};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[r]);var o=document.querySelector(a);if(!o)throw new ReferenceError("\ubaa8\ub2ec \ucee8\ud14c\uc774\ub108\ub85c \uc0ac\uc6a9\ud560 \ud0c0\uac9f\uc744 \ucc3e\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.");return Object(i.createPortal)(t&&Object(c.jsx)("div",{className:Fe,onClick:function(e){e.target===e.currentTarget&&r(!1)},children:s}),o)}var Te=r(40),Pe=r(24),Ae=r.n(Pe),Ke=Ae.a.figure,He=Ae.a.container,qe=Ae.a.iframe;function Be(e){var t=e.videoId;return Object(c.jsx)("figure",{className:Ke,children:Object(c.jsx)(Te.a,{containerClassName:He,className:qe,videoId:t})})}var Je,ze=r(16),We=r.n(ze),Ge=We.a.wrapper,Qe=We.a.container,Ve=We.a.figure,Ye=We.a.img,Ze=We.a.synopsis,Xe=We.a.button;function $e(e){var t=e.movie,r=t.poster_path,a=t.title,i=t.overview,s=e.movies,o=e.trailer,l=Object(n.useState)(!1),u=Object(b.a)(l,2),j=u[0],d=u[1],p=C(500,r);return Object(c.jsx)("div",{className:Ge,children:Object(c.jsxs)("div",{className:Qe,children:[Object(c.jsxs)("figure",{className:Ve,children:[Object(c.jsx)("img",{className:Ye,src:p,alt:a}),Object(c.jsxs)("figcaption",{style:{display:"grid",alignContent:"space-between",gap:"2rem"},children:[Object(c.jsxs)("div",{style:{display:"grid",gap:"0.5rem"},children:[Object(c.jsx)("p",{className:Ze,children:"synopsis"}),i||"\ub370\uc774\ud130\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ud83d\ude25"]}),o&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{className:Xe,type:"button",onClick:function(){d(!0)},children:"\uc608\uace0\ud3b8 \ubbf8\ub9ac\ubcf4\uae30"}),Object(c.jsx)(De,{isOpen:j,setIsOpen:d,target:"#modal-root",children:Object(c.jsx)(Be,{videoId:o.key})})]})]})]}),Object(c.jsx)(fe,{title:"\ube44\uc2b7\ud55c \uc601\ud654",movies:s})]})})}function et(){var e=Object(o.g)().id,t=f(Object(n.useRef)(function(e){return[g(e),y(e),N(e)]}(e)).current),r=t.loading,a=t.error,i=t.data;return r?Object(c.jsx)(Y,{}):a?Object(c.jsx)(re,{error:a}):Object(c.jsxs)("main",{children:[Object(c.jsx)(Ie,{movie:i[0]}),Object(c.jsx)($e,{movie:i[0],movies:i[1].results,trailer:i[2].results[0]})]})}!function(e){e.SUCCESS="SUCCESS",e.FAILURE="FAILURE",e.COMPLETE="COMPLETE"}(Je||(Je={}));var tt={data:null,error:null,loading:!0},rt=function(e,t){switch(t.type){case Je.SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{data:t.data});case Je.FAILURE:return Object(p.a)(Object(p.a)({},e),{},{error:t.error});case Je.COMPLETE:return Object(p.a)(Object(p.a)({},e),{},{loading:!1});default:throw new SyntaxError("\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc561\uc158 \ud0c0\uc785\uc785\ub2c8\ub2e4.")}};var at=r(25),ct=r.n(at),nt=ct.a.section,it=ct.a.heading,st=ct.a.grid;function ot(e){var t=e.title,r=e.movies;return Object(c.jsxs)("section",{className:nt,children:[Object(c.jsx)("h1",{className:it,children:t}),Object(c.jsx)("div",{className:st,children:r.map((function(e){var t=e.id,r=e.poster_path,a=e.backdrop_path;return r&&a?Object(c.jsx)(oe,{movie:e},t):null}))})]})}function lt(){var e=Object(o.g)().query,t=function(e){var t=Object(n.useReducer)(rt,tt),r=Object(b.a)(t,2),a=r[0],c=r[1];return Object(n.useEffect)((function(){Object(d.a)(j.a.mark((function t(){var r,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:return r=t.sent,t.next=6,r.json();case 6:a=t.sent,c({type:Je.SUCCESS,data:a}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:Je.FAILURE,error:t.t0});case 13:return t.prev=13,c({type:Je.COMPLETE}),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})))()}),[e]),a}(function(e){return"https://api.themoviedb.org/3/search/movie?api_key=".concat("d2f068a2804bac3ac3fc858cc297ce01","&query=").concat(e,"&language=ko-KR")}(e)),r=t.loading,a=t.error,i=t.data;return r?Object(c.jsx)(Y,{}):a?Object(c.jsx)(re,{error:a}):i.results.length?Object(c.jsx)(G,{children:Object(c.jsx)(ot,{title:'"'.concat(e,'" \uac80\uc0c9 \uacb0\uacfc'),movies:i.results})}):Object(c.jsx)(G,{center:!0,children:Object(c.jsx)(te,{title:'"'.concat(e,'"'),text:"\uac80\uc0c9 \uacb0\uacfc\ub97c \ucc3e\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."})})}function ut(){return Object(c.jsx)(G,{center:!0,children:Object(c.jsx)(te,{title:"404 Error",text:"\uc694\uccad\ud558\uc2e0 \ud398\uc774\uc9c0\ub97c \ucc3e\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."})})}var jt=r(26),dt=r.n(jt),bt=dt.a.footer,pt=dt.a.container,ht=dt.a.copyright;function Ot(){return Object(c.jsx)("footer",{className:bt,children:Object(c.jsx)("div",{className:pt,children:Object(c.jsx)("p",{className:ht,children:"\xa9 2021. yeouya"})})})}function ft(){return Object(c.jsxs)(s.a,{basename:"/react-movie",children:[Object(c.jsx)(K,{}),Object(c.jsxs)(o.c,{children:[Object(c.jsx)(o.a,{path:"/",exact:!0,children:Object(c.jsx)(S,{children:Object(c.jsx)(xe,{})})}),Object(c.jsx)(o.a,{path:"/detail/:id",render:function(){return Object(c.jsx)(et,{},Object(l.a)())},exact:!0}),Object(c.jsx)(o.a,{path:"/search/:query",render:function(){return Object(c.jsx)(lt,{},Object(l.a)())},exact:!0}),Object(c.jsx)(o.a,{path:"*",children:Object(c.jsx)(ut,{})})]}),Object(c.jsx)(Ot,{})]})}r(67);Object(i.render)(Object(c.jsx)(n.StrictMode,{children:Object(c.jsx)(ft,{})}),document.querySelector("#root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.b4cf10a6.chunk.js.map